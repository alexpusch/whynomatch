!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(9)},function(t,e,r){!function(e){t.exports=e()}(function(){"use strict";function t(r,n){if(!(this instanceof t))return new t(r,n);this.options=n=n?Hi(n):{},Hi(Jo,n,!1),d(n);var i=n.value;"string"==typeof i&&(i=new Ca(i,n.mode,null,n.lineSeparator)),this.doc=i;var o=new t.inputStyles[n.inputStyle](this),a=this.display=new e(r,i,o);a.wrapper.CodeMirror=this,u(this),l(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Mo&&a.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Oi,keySeq:null,specialChars:null};var s=this;yo&&11>bo&&setTimeout(function(){s.display.input.reset(!0)},20),Fe(this),Ki(),be(this),this.curOp.forceUpdate=!0,Xn(this,i),n.autofocus&&!Mo||s.hasFocus()?setTimeout(Ri(vr,this),20):gr(this);for(var c in Qo)Qo.hasOwnProperty(c)&&Qo[c](this,n[c],ta);C(this),n.finishInit&&n.finishInit(this);for(var f=0;f<ia.length;++f)ia[f](this);xe(this),wo&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function e(t,e,r){var n=this;this.input=r,n.scrollbarFiller=Fi("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Fi("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Fi("div",null,"CodeMirror-code"),n.selectionDiv=Fi("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Fi("div",null,"CodeMirror-cursors"),n.measure=Fi("div",null,"CodeMirror-measure"),n.lineMeasure=Fi("div",null,"CodeMirror-measure"),n.lineSpace=Fi("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Fi("div",[Fi("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Fi("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Fi("div",null,null,"position: absolute; height: "+Ea+"px; width: 1px;"),n.gutters=Fi("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Fi("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Fi("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),yo&&8>bo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),wo||vo&&Mo||(n.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),n(e)}function n(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,Pt(t,100),t.state.modeGen++,t.curOp&&De(t)}function i(t){t.options.lineWrapping?(Ya(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Xa(t.display.wrapper,"CodeMirror-wrap"),h(t)),a(t),De(t),ae(t),setTimeout(function(){y(t)},100)}function o(t){var e=me(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/ye(t.display)-3);return function(i){if(xn(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*e:o+e}}function a(t){var e=t.doc,r=o(t);e.iter(function(t){var e=r(t);e!=t.height&&Qn(t,e)})}function l(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ae(t)}function s(t){u(t),De(t),setTimeout(function(){x(t)},20)}function u(t){var e=t.display.gutters,r=t.options.gutters;Bi(e);for(var n=0;n<r.length;++n){var i=r[n],o=e.appendChild(Fi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none",c(t)}function c(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function f(t){if(0==t.height)return 0;for(var e,r=t.text.length,n=t;e=pn(n);){var i=e.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=t;e=vn(n);){var i=e.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function h(t){var e=t.display,r=t.doc;e.maxLine=Yn(r,r.first),e.maxLineLength=f(e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var r=f(t);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=t)})}function d(t){var e=Wi(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function p(t){var e=t.display,r=e.gutters.offsetWidth,n=Math.round(t.doc.height+$t(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Vt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:r}}function v(t,e,r){this.cm=r;var n=this.vert=Fi("div",[Fi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Fi("div",[Fi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(n),t(i),Ma(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),Ma(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,yo&&8>bo&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function m(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Xa(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ma(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?nr(e,t):rr(e,t)},e),e.display.scrollbars.addClass&&Ya(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=p(t));var r=t.display.barWidth,n=t.display.barHeight;b(t,e);for(var i=0;4>i&&r!=t.display.barWidth||n!=t.display.barHeight;i++)r!=t.display.barWidth&&t.options.lineWrapping&&N(t),b(t,p(t)),r=t.display.barWidth,n=t.display.barHeight}function b(t,e){var r=t.display,n=r.scrollbars.update(e);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=e.gutterWidth+"px"):r.gutterFiller.style.display=""}function w(t,e,r){var n=r&&null!=r.top?Math.max(0,r.top):t.scroller.scrollTop;n=Math.floor(n-Bt(t));var i=r&&null!=r.bottom?r.bottom:n+t.wrapper.clientHeight,o=ei(e,n),a=ei(e,i);if(r&&r.ensure){var l=r.ensure.from.line,s=r.ensure.to.line;o>l?(o=l,a=ei(e,ri(Yn(e,l))+t.wrapper.clientHeight)):Math.min(s,e.lastLine())>=a&&(o=ei(e,ri(Yn(e,s))-t.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function x(t){var e=t.display,r=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=S(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){t.options.fixedGutter&&r[a].gutter&&(r[a].gutter.style.left=o);var l=r[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+i+"px")}}function C(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=_(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Fi("div",[Fi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(t),!0}return!1}function _(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function S(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function k(t,e,r){var n=t.display;this.viewport=e,this.visible=w(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Gt(t),this.force=r,this.dims=E(t),this.events=[]}function L(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Vt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Vt(t)+"px",e.scrollbarsClipped=!0)}function T(t,e){var r=t.display,n=t.doc;if(e.editorIsHidden)return He(t),!1;if(!e.force&&e.visible.from>=r.viewFrom&&e.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==je(t))return!1;C(t)&&(He(t),e.dims=E(t));var i=n.first+n.size,o=Math.max(e.visible.from-t.options.viewportMargin,n.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),Io&&(o=bn(t.doc,o),a=wn(t.doc,a));var l=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=e.wrapperHeight||r.lastWrapWidth!=e.wrapperWidth;ze(t,o,a),r.viewOffset=ri(Yn(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var s=je(t);if(!l&&0==s&&!e.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=Ui();return s>4&&(r.lineDiv.style.display="none"),D(t,r.updateLineNumbers,e.dims),s>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&Ui()!=u&&u.offsetHeight&&u.focus(),Bi(r.cursorDiv),Bi(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=e.wrapperHeight,r.lastWrapWidth=e.wrapperWidth,Pt(t,400)),r.updateLineNumbers=null,!0}function M(t,e){for(var r=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Gt(t)||(r&&null!=r.top&&(r={top:Math.min(t.doc.height+$t(t.display)-qt(t),r.top)}),e.visible=w(t.display,t.doc,r),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&T(t,e);n=!1){N(t);var i=p(t);Et(t),A(t,i),y(t,i)}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function O(t,e){var r=new k(t,e);if(T(t,r)){N(t),M(t,r);var n=p(t);Et(t),A(t,n),y(t,n),r.finish()}}function A(t,e){t.display.sizer.style.minHeight=e.docHeight+"px";var r=e.docHeight+t.display.barHeight;t.display.heightForcer.style.top=r+"px",t.display.gutters.style.height=Math.max(r+Vt(t),e.clientHeight)+"px"}function N(t){for(var e=t.display,r=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var i,o=e.view[n];if(!o.hidden){if(yo&&8>bo){var a=o.node.offsetTop+o.node.offsetHeight;i=a-r,r=a}else{var l=o.node.getBoundingClientRect();i=l.bottom-l.top}var s=o.line.height-i;if(2>i&&(i=me(e)),(s>.001||-.001>s)&&(Qn(o.line,i),W(o.line),o.rest))for(var u=0;u<o.rest.length;u++)W(o.rest[u])}}}function W(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function E(t){for(var e=t.display,r={},n={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)r[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,n[t.options.gutters[a]]=o.clientWidth;return{fixedPos:S(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function D(t,e,r){function n(e){var r=e.nextSibling;return wo&&Oo&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),r}for(var i=t.display,o=t.options.lineNumbers,a=i.lineDiv,l=a.firstChild,s=i.view,u=i.viewFrom,c=0;c<s.length;c++){var f=s[c];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;l!=f.node;)l=n(l);var h=o&&null!=e&&u>=e&&f.lineNumber;f.changes&&(Wi(f.changes,"gutter")>-1&&(h=!1),I(t,f,u,r)),h&&(Bi(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(_(t.options,u)))),l=f.node.nextSibling}else{var d=$(t,f,u,r);a.insertBefore(d,l)}u+=f.size}for(;l;)l=n(l)}function I(t,e,r,n){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?z(t,e):"gutter"==o?F(t,e,r,n):"class"==o?j(e):"widget"==o&&B(t,e,n)}e.changes=null}function H(t){return t.node==t.text&&(t.node=Fi("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),yo&&8>bo&&(t.node.style.zIndex=2)),t.node}function R(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var r=H(t);t.background=r.insertBefore(Fi("div",null,e),r.firstChild)}}function P(t,e){var r=t.display.externalMeasured;return r&&r.line==e.line?(t.display.externalMeasured=null,e.measure=r.measure,r.built):Rn(t,e)}function z(t,e){var r=e.text.className,n=P(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,j(e)):r&&(e.text.className=r)}function j(t){R(t),t.line.wrapClass?H(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function F(t,e,r,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=H(e);e.gutterBackground=Fi("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var i=H(e),a=e.gutter=Fi("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),i.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(Fi("div",_(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.options.gutters.length;++l){var s=t.options.gutters[l],u=o.hasOwnProperty(s)&&o[s];u&&a.appendChild(Fi("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[s]+"px; width: "+n.gutterWidth[s]+"px"))}}}function B(t,e,r){e.alignable&&(e.alignable=null);for(var n,i=e.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}U(t,e,r)}function $(t,e,r,n){var i=P(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),j(e),F(t,e,r,n),U(t,e,n),e.node}function U(t,e,r){if(V(t,e.line,e,r,!0),e.rest)for(var n=0;n<e.rest.length;n++)V(t,e.rest[n],e,r,!1)}function V(t,e,r,n,i){if(e.widgets)for(var o=H(r),a=0,l=e.widgets;a<l.length;++a){var s=l[a],u=Fi("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),G(s,u,r,n),t.display.input.setUneditable(u),i&&s.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),_i(s,"redraw")}}function G(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function q(t){return Ho(t.line,t.ch)}function K(t,e){return Ro(t,e)<0?e:t}function X(t,e){return Ro(t,e)<0?t:e}function Y(t){t.state.focused||(t.display.input.focus(),vr(t))}function Z(t){return t.options.readOnly||t.doc.cantEdit}function J(t,e,r,n,i){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var a=t.state.pasteIncoming||"paste"==i,l=o.splitLines(e),s=null;if(a&&n.ranges.length>1)if(Po&&Po.join("\n")==e){if(n.ranges.length%Po.length==0){s=[];for(var u=0;u<Po.length;u++)s.push(o.splitLines(Po[u]))}}else l.length==n.ranges.length&&(s=Ei(l,function(t){return[t]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],f=c.from(),h=c.to();c.empty()&&(r&&r>0?f=Ho(f.line,f.ch-r):t.state.overwrite&&!a&&(h=Ho(h.line,Math.min(Yn(o,h.line).text.length,h.ch+Ni(l).length))));var d=t.curOp.updateInput,p={from:f,to:h,text:s?s[u%s.length]:l,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};Sr(t.doc,p),_i(t,"inputRead",t,p)}e&&!a&&tt(t,e),Hr(t),t.curOp.updateInput=d,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Q(t,e){var r=t.clipboardData&&t.clipboardData.getData("text/plain");return r?(t.preventDefault(),Z(e)||e.options.disableInput||Me(e,function(){J(e,r,0,null,"paste")}),!0):void 0}function tt(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var r=t.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(e.indexOf(o.electricChars.charAt(l))>-1){a=Pr(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Yn(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Pr(t,i.head.line,"smart"));a&&_i(t,"electricInput",t,i.head.line)}}}function et(t){for(var e=[],r=[],n=0;n<t.doc.sel.ranges.length;n++){var i=t.doc.sel.ranges[n].head.line,o={anchor:Ho(i,0),head:Ho(i+1,0)};r.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:r}}function rt(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Oi,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var t=Fi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Fi("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wo?t.style.width="1000px":t.setAttribute("wrap","off"),To&&(t.style.border="1px solid black"),rt(t),e}function ot(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Oi,this.gracePeriod=!1}function at(t,e){var r=Jt(t,e.line);if(!r||r.hidden)return null;var n=Yn(t.doc,e.line),i=Xt(r,n,e.line),o=ni(n),a="left";if(o){var l=so(o,e.ch);a=l%2?"right":"left"}var s=ee(i.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function lt(t,e){return e&&(t.bad=!0),t}function st(t,e,r){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[r],!n)return lt(t.clipPos(Ho(t.display.viewTo-1)),!0);e=null,r=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==n)return ut(o,e,r)}}function ut(t,e,r){function n(e,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?u.map:c[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==e||l==r){var s=ti(0>i?t.line:t.rest[i]),f=o[a]+n;return(0>n||l!=e)&&(f=o[a+(n?1:0)]),Ho(s,f)}}}var i=t.text.firstChild,o=!1;if(!e||!Ga(i,e))return lt(Ho(ti(t.line),0),!0);if(e==i&&(o=!0,e=i.childNodes[r],r=0,!e)){var a=t.rest?Ni(t.rest):t.line;return lt(Ho(ti(a),a.text.length),o)}var l=3==e.nodeType?e:null,s=e;for(l||1!=e.childNodes.length||3!=e.firstChild.nodeType||(l=e.firstChild,r&&(r=l.nodeValue.length));s.parentNode!=i;)s=s.parentNode;var u=t.measure,c=u.maps,f=n(l,s,r);if(f)return lt(f,o);for(var h=s.nextSibling,d=l?l.nodeValue.length-r:0;h;h=h.nextSibling){if(f=n(h,h.firstChild,0))return lt(Ho(f.line,f.ch-d),o);d+=h.textContent.length}for(var p=s.previousSibling,d=r;p;p=p.previousSibling){if(f=n(p,p.firstChild,-1))return lt(Ho(f.line,f.ch+d),o);d+=h.textContent.length}}function ct(t,e,r,n,i){function o(t){return function(e){return e.id==t}}function a(e){if(1==e.nodeType){var r=e.getAttribute("cm-text");if(null!=r)return""==r&&(r=e.textContent.replace(/\u200b/g,"")),void(l+=r);var c,f=e.getAttribute("cm-marker");if(f){var h=t.findMarks(Ho(n,0),Ho(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(l+=Zn(t.doc,c.from,c.to).join(u)))}if("false"==e.getAttribute("contenteditable"))return;for(var d=0;d<e.childNodes.length;d++)a(e.childNodes[d]);/^(pre|div|p)$/i.test(e.nodeName)&&(s=!0)}else if(3==e.nodeType){var p=e.nodeValue;if(!p)return;s&&(l+=u,s=!1),l+=p}}for(var l="",s=!1,u=t.doc.lineSeparator();a(e),e!=r;)e=e.nextSibling;return l}function ft(t,e){this.ranges=t,this.primIndex=e}function ht(t,e){this.anchor=t,this.head=e}function dt(t,e){var r=t[e];t.sort(function(t,e){return Ro(t.from(),e.from())}),e=Wi(t,r);for(var n=1;n<t.length;n++){var i=t[n],o=t[n-1];if(Ro(o.to(),i.from())>=0){var a=X(o.from(),i.from()),l=K(o.to(),i.to()),s=o.empty()?i.from()==i.head:o.from()==o.head;e>=n&&--e,t.splice(--n,2,new ht(s?l:a,s?a:l))}}return new ft(t,e)}function pt(t,e){return new ft([new ht(t,e||t)],0)}function vt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function gt(t,e){if(e.line<t.first)return Ho(t.first,0);var r=t.first+t.size-1;return e.line>r?Ho(r,Yn(t,r).text.length):mt(e,Yn(t,e.line).text.length)}function mt(t,e){var r=t.ch;return null==r||r>e?Ho(t.line,e):0>r?Ho(t.line,0):t}function yt(t,e){return e>=t.first&&e<t.first+t.size}function bt(t,e){for(var r=[],n=0;n<e.length;n++)r[n]=gt(t,e[n]);return r}function wt(t,e,r,n){if(t.cm&&t.cm.display.shift||t.extend){var i=e.anchor;if(n){var o=Ro(r,i)<0;o!=Ro(n,i)<0?(i=r,r=n):o!=Ro(r,n)<0&&(r=n)}return new ht(i,r)}return new ht(n||r,r)}function xt(t,e,r,n){Tt(t,new ft([wt(t,t.sel.primary(),e,r)],0),n)}function Ct(t,e,r){for(var n=[],i=0;i<t.sel.ranges.length;i++)n[i]=wt(t,t.sel.ranges[i],e[i],null);var o=dt(n,t.sel.primIndex);Tt(t,o,r)}function _t(t,e,r,n){var i=t.sel.ranges.slice(0);i[e]=r,Tt(t,dt(i,t.sel.primIndex),n)}function St(t,e,r,n){Tt(t,pt(e,r),n)}function kt(t,e){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var r=0;r<e.length;r++)this.ranges[r]=new ht(gt(t,e[r].anchor),gt(t,e[r].head))}};return Na(t,"beforeSelectionChange",t,r),t.cm&&Na(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?dt(r.ranges,r.ranges.length-1):e}function Lt(t,e,r){var n=t.history.done,i=Ni(n);i&&i.ranges?(n[n.length-1]=e,Mt(t,e,r)):Tt(t,e,r)}function Tt(t,e,r){Mt(t,e,r),ci(t,t.sel,t.cm?t.cm.curOp.id:NaN,r)}function Mt(t,e,r){(Ti(t,"beforeSelectionChange")||t.cm&&Ti(t.cm,"beforeSelectionChange"))&&(e=kt(t,e));var n=r&&r.bias||(Ro(e.primary().head,t.sel.primary().head)<0?-1:1);Ot(t,Nt(t,e,n,!0)),r&&r.scroll===!1||!t.cm||Hr(t.cm)}function Ot(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Li(t.cm)),_i(t,"cursorActivity",t))}function At(t){Ot(t,Nt(t,t.sel,null,!1),Ia)}function Nt(t,e,r,n){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],l=Wt(t,a.anchor,r,n),s=Wt(t,a.head,r,n);(i||l!=a.anchor||s!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new ht(l,s))}return i?dt(i,e.primIndex):e}function Wt(t,e,r,n){var i=!1,o=e,a=r||1;t.cantEdit=!1;t:for(;;){var l=Yn(t,o.line);if(l.markedSpans)for(var s=0;s<l.markedSpans.length;++s){var u=l.markedSpans[s],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(n&&(Na(c,"beforeCursorEnter"),c.explicitlyCleared)){if(l.markedSpans){--s;continue}break}if(!c.atomic)continue;var f=c.find(0>a?-1:1);if(0==Ro(f,o)&&(f.ch+=a,f.ch<0?f=f.line>t.first?gt(t,Ho(f.line-1)):null:f.ch>l.text.length&&(f=f.line<t.first+t.size-1?Ho(f.line+1,0):null),!f)){if(i)return n?(t.cantEdit=!0,Ho(t.first,0)):Wt(t,e,r,!0);i=!0,f=e,a=-a}o=f;continue t}}return o}}function Et(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Dt(t,e){for(var r=t.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(e!==!1||a!=r.sel.primIndex){var l=r.sel.ranges[a],s=l.empty();(s||t.options.showCursorWhenSelecting)&&It(t,l.head,i),s||Ht(t,l,o)}return n}function It(t,e,r){var n=he(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=r.appendChild(Fi("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var o=r.appendChild(Fi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Ht(t,e,r){function n(t,e,r,n){0>e&&(e=0),e=Math.round(e),n=Math.round(n),l.appendChild(Fi("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==r?c-t:r)+"px; height: "+(n-e)+"px"))}function i(e,r,i){function o(r,n){return fe(t,Ho(e,r),"div",f,n)}var l,s,f=Yn(a,e),h=f.text.length;return Qi(ni(f),r||0,null==i?h:i,function(t,e,a){var f,d,p,v=o(t,"left");if(t==e)f=v,d=p=v.left;else{if(f=o(e-1,"right"),"rtl"==a){var g=v;v=f,f=g}d=v.left,p=f.right}null==r&&0==t&&(d=u),f.top-v.top>3&&(n(d,v.top,null,v.bottom),d=u,v.bottom<f.top&&n(d,v.bottom,null,f.top)),null==i&&e==h&&(p=c),(!l||v.top<l.top||v.top==l.top&&v.left<l.left)&&(l=v),(!s||f.bottom>s.bottom||f.bottom==s.bottom&&f.right>s.right)&&(s=f),u+1>d&&(d=u),n(d,f.top,p-d,f.bottom)}),{start:l,end:s}}var o=t.display,a=t.doc,l=document.createDocumentFragment(),s=Ut(t.display),u=s.left,c=Math.max(o.sizerWidth,Gt(t)-o.sizer.offsetLeft)-s.right,f=e.from(),h=e.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var d=Yn(a,f.line),p=Yn(a,h.line),v=mn(d)==mn(p),g=i(f.line,f.ch,v?d.text.length+1:null).end,m=i(h.line,v?0:null,h.ch).start;v&&(g.top<m.top-2?(n(g.right,g.top,null,g.bottom),n(u,m.top,m.left,m.bottom)):n(g.right,g.top,m.left-g.right,g.bottom)),g.bottom<m.top&&n(u,g.bottom,null,m.top)}r.appendChild(l)}function Rt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Pt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Ri(zt,t))}function zt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var r=+new Date+t.options.workTime,n=aa(e.mode,Ft(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var a=o.styles,l=o.text.length>t.options.maxHighlightLength,s=En(t,o,l?aa(e.mode,n):n,!0);o.styles=s.styles;var u=o.styleClasses,c=s.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(e.frontier),o.stateAfter=l?n:aa(e.mode,n)}else o.text.length<=t.options.maxHighlightLength&&In(t,o.text,n),o.stateAfter=e.frontier%5==0?aa(e.mode,n):null;return++e.frontier,+new Date>r?(Pt(t,t.options.workDelay),!0):void 0}),i.length&&Me(t,function(){for(var e=0;e<i.length;e++)Ie(t,i[e],"text")})}}function jt(t,e,r){for(var n,i,o=t.doc,a=r?-1:e-(t.doc.mode.innerMode?1e3:100),l=e;l>a;--l){if(l<=o.first)return o.first;var s=Yn(o,l-1);if(s.stateAfter&&(!r||l<=o.frontier))return l;var u=Pa(s.text,null,t.options.tabSize);(null==i||n>u)&&(i=l-1,n=u)}return i}function Ft(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return!0;var o=jt(t,e,r),a=o>n.first&&Yn(n,o-1).stateAfter;return a=a?aa(n.mode,a):la(n.mode),n.iter(o,e,function(r){In(t,r.text,a);var l=o==e-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=l?aa(n.mode,a):null,++o}),r&&(n.frontier=o),a}function Bt(t){return t.lineSpace.offsetTop}function $t(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ut(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=$i(t.measure,Fi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function Vt(t){return Ea-t.display.nativeBarWidth}function Gt(t){return t.display.scroller.clientWidth-Vt(t)-t.display.barWidth}function qt(t){return t.display.scroller.clientHeight-Vt(t)-t.display.barHeight}function Kt(t,e,r){var n=t.options.lineWrapping,i=n&&Gt(t);if(!e.measure.heights||n&&e.measure.width!=i){var o=e.measure.heights=[];if(n){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],u=a[l+1];Math.abs(s.bottom-u.bottom)>2&&o.push((s.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Xt(t,e,r){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var n=0;n<t.rest.length;n++)if(ti(t.rest[n])>r)return{map:t.measure.maps[n],cache:t.measure.caches[n],before:!0}}function Yt(t,e){e=mn(e);var r=ti(e),n=t.display.externalMeasured=new We(t.doc,e,r);n.lineN=r;var i=n.built=Rn(t,n);return n.text=i.pre,$i(t.display.lineMeasure,i.pre),n}function Zt(t,e,r,n){return te(t,Qt(t,e),r,n)}function Jt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Re(t,e)];var r=t.display.externalMeasured;return r&&e>=r.lineN&&e<r.lineN+r.size?r:void 0}function Qt(t,e){var r=ti(e),n=Jt(t,r);n&&!n.text?n=null:n&&n.changes&&(I(t,n,r,E(t)),t.curOp.forceUpdate=!0),n||(n=Yt(t,e));var i=Xt(n,e,r);return{line:e,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function te(t,e,r,n,i){e.before&&(r=-1);var o,a=r+(n||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kt(t,e.view,e.rect),e.hasHeights=!0),o=re(t,e,r,n),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function ee(t,e,r){for(var n,i,o,a,l=0;l<t.length;l+=3){var s=t[l],u=t[l+1];if(s>e?(i=0,o=1,a="left"):u>e?(i=e-s,o=i+1):(l==t.length-3||e==u&&t[l+3]>e)&&(o=u-s,i=o-1,e>=u&&(a="right")),null!=i){if(n=t[l+2],s==u&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;l&&t[l-2]==t[l-3]&&t[l-1].insertLeft;)n=t[(l-=3)+2],a="left";if("right"==r&&i==u-s)for(;l<t.length-3&&t[l+3]==t[l+4]&&!t[l+5].insertLeft;)n=t[(l+=3)+2],a="right";break}}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function re(t,e,r,n){var i,o=ee(e.map,r,n),a=o.node,l=o.start,s=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;4>c;c++){
for(;l&&ji(e.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+s<o.coverEnd&&ji(e.line.text.charAt(o.coverStart+s));)++s;if(yo&&9>bo&&0==l&&s==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(yo&&t.options.lineWrapping){var f=Ba(a,l,s).getClientRects();i=f.length?f["right"==n?f.length-1:0]:Bo}else i=Ba(a,l,s).getBoundingClientRect()||Bo;if(i.left||i.right||0==l)break;s=l,l-=1,u="right"}yo&&11>bo&&(i=ne(t.display.measure,i))}else{l>0&&(u=n="right");var f;i=t.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==n?f.length-1:0]:a.getBoundingClientRect()}if(yo&&9>bo&&!l&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+ye(t.display),top:h.top,bottom:h.bottom}:Bo}for(var d=i.top-e.rect.top,p=i.bottom-e.rect.top,v=(d+p)/2,g=e.view.measure.heights,c=0;c<g.length-1&&!(v<g[c]);c++);var m=c?g[c-1]:0,y=g[c],b={left:("right"==u?i.right:i.left)-e.rect.left,right:("left"==u?i.left:i.right)-e.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function ne(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ji(t))return e;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*r,right:e.right*r,top:e.top*n,bottom:e.bottom*n}}function ie(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function oe(t){t.display.externalMeasure=null,Bi(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)ie(t.display.view[e])}function ae(t){oe(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function se(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ue(t,e,r,n){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=Sn(e.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=ri(e);if("local"==n?a+=Bt(t.display):a-=t.display.viewOffset,"page"==n||"window"==n){var l=t.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==n?0:se());var s=l.left+("window"==n?0:le());r.left+=s,r.right+=s}return r.top+=a,r.bottom+=a,r}function ce(t,e,r){if("div"==r)return e;var n=e.left,i=e.top;if("page"==r)n-=le(),i-=se();else if("local"==r||!r){var o=t.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function fe(t,e,r,n,i){return n||(n=Yn(t.doc,e.line)),ue(t,n,Zt(t,n,e.ch,i),r)}function he(t,e,r,n,i,o){function a(e,a){var l=te(t,i,e,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,ue(t,n,l,r)}function l(t,e){var r=s[e],n=r.level%2;return t==to(r)&&e&&r.level<s[e-1].level?(r=s[--e],t=eo(r)-(r.level%2?0:1),n=!0):t==eo(r)&&e<s.length-1&&r.level<s[e+1].level&&(r=s[++e],t=to(r)-r.level%2,n=!1),n&&t==r.to&&t>r.from?a(t-1):a(t,n)}n=n||Yn(t.doc,e.line),i||(i=Qt(t,n));var s=ni(n),u=e.ch;if(!s)return a(u);var c=so(s,u),f=l(u,c);return null!=il&&(f.other=l(u,il)),f}function de(t,e){var r=0,e=gt(t.doc,e);t.options.lineWrapping||(r=ye(t.display)*e.ch);var n=Yn(t.doc,e.line),i=ri(n)+Bt(t.display);return{left:r,right:r,top:i,bottom:i+n.height}}function pe(t,e,r,n){var i=Ho(t,e);return i.xRel=n,r&&(i.outside=!0),i}function ve(t,e,r){var n=t.doc;if(r+=t.display.viewOffset,0>r)return pe(n.first,0,!0,-1);var i=ei(n,r),o=n.first+n.size-1;if(i>o)return pe(n.first+n.size-1,Yn(n,o).text.length,!0,1);0>e&&(e=0);for(var a=Yn(n,i);;){var l=ge(t,a,i,e,r),s=vn(a),u=s&&s.find(0,!0);if(!s||!(l.ch>u.from.ch||l.ch==u.from.ch&&l.xRel>0))return l;i=ti(a=u.to.line)}}function ge(t,e,r,n,i){function o(n){var i=he(t,Ho(r,n),"line",e,u);return l=!0,a>i.bottom?i.left-s:a<i.top?i.left+s:(l=!1,i.left)}var a=i-ri(e),l=!1,s=2*t.display.wrapper.clientWidth,u=Qt(t,e),c=ni(e),f=e.text.length,h=ro(e),d=no(e),p=o(h),v=l,g=o(d),m=l;if(n>g)return pe(r,d,m,1);for(;;){if(c?d==h||d==co(e,h,1):1>=d-h){for(var y=p>n||g-n>=n-p?h:d,b=n-(y==h?p:g);ji(e.text.charAt(y));)++y;var w=pe(r,y,y==h?v:m,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(f/2),C=h+x;if(c){C=h;for(var _=0;x>_;++_)C=co(e,C,1)}var S=o(C);S>n?(d=C,g=S,(m=l)&&(g+=1e3),f=x):(h=C,p=S,v=l,f-=x)}}function me(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==zo){zo=Fi("pre");for(var e=0;49>e;++e)zo.appendChild(document.createTextNode("x")),zo.appendChild(Fi("br"));zo.appendChild(document.createTextNode("x"))}$i(t.measure,zo);var r=zo.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),Bi(t.measure),r||1}function ye(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Fi("span","xxxxxxxxxx"),r=Fi("pre",[e]);$i(t.measure,r);var n=e.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function be(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Uo},$o?$o.ops.push(t.curOp):t.curOp.ownsGroup=$o={ops:[t.curOp],delayedCallbacks:[]}}function we(t){var e=t.delayedCallbacks,r=0;do{for(;r<e.length;r++)e[r].call(null);for(var n=0;n<t.ops.length;n++){var i=t.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<e.length)}function xe(t){var e=t.curOp,r=e.ownsGroup;if(r)try{we(r)}finally{$o=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;Ce(r)}}function Ce(t){for(var e=t.ops,r=0;r<e.length;r++)_e(e[r]);for(var r=0;r<e.length;r++)Se(e[r]);for(var r=0;r<e.length;r++)ke(e[r]);for(var r=0;r<e.length;r++)Le(e[r]);for(var r=0;r<e.length;r++)Te(e[r])}function _e(t){var e=t.cm,r=e.display;L(e),t.updateMaxLine&&h(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new k(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Se(t){t.updatedDisplay=t.mustUpdate&&T(t.cm,t.update)}function ke(t){var e=t.cm,r=e.display;t.updatedDisplay&&N(e),t.barMeasure=p(e),r.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Zt(e,r.maxLine,r.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+t.adjustWidthTo+Vt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+t.adjustWidthTo-Gt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=r.input.prepareSelection())}function Le(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&nr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1),t.preparedSelection&&e.display.input.showSelection(t.preparedSelection),t.updatedDisplay&&A(e,t.barMeasure),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.selectionChanged&&Rt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),t.focus&&t.focus==Ui()&&Y(t.cm)}function Te(t){var e=t.cm,r=e.display,n=e.doc;if(t.updatedDisplay&&M(e,t.update),null==r.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==t.scrollTop||r.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,t.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==t.scrollLeft||r.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-Gt(e),t.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,x(e)),t.scrollToPos){var i=Wr(e,gt(n,t.scrollToPos.from),gt(n,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Nr(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var l=0;l<o.length;++l)o[l].lines.length||Na(o[l],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&Na(a[l],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Na(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Me(t,e){if(t.curOp)return e();be(t);try{return e()}finally{xe(t)}}function Oe(t,e){return function(){if(t.curOp)return e.apply(t,arguments);be(t);try{return e.apply(t,arguments)}finally{xe(t)}}}function Ae(t){return function(){if(this.curOp)return t.apply(this,arguments);be(this);try{return t.apply(this,arguments)}finally{xe(this)}}}function Ne(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);be(e);try{return t.apply(this,arguments)}finally{xe(e)}}}function We(t,e,r){this.line=e,this.rest=yn(e),this.size=this.rest?ti(Ni(this.rest))-r+1:1,this.node=this.text=null,this.hidden=xn(t,e)}function Ee(t,e,r){for(var n,i=[],o=e;r>o;o=n){var a=new We(t.doc,Yn(t.doc,o),o);n=o+a.size,i.push(a)}return i}function De(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),n||(n=0);var i=t.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Io&&bn(t.doc,e)<i.viewTo&&He(t);else if(r<=i.viewFrom)Io&&wn(t.doc,r+n)>i.viewFrom?He(t):(i.viewFrom+=n,i.viewTo+=n);else if(e<=i.viewFrom&&r>=i.viewTo)He(t);else if(e<=i.viewFrom){var o=Pe(t,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):He(t)}else if(r>=i.viewTo){var o=Pe(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):He(t)}else{var a=Pe(t,e,e,-1),l=Pe(t,r,r+n,1);a&&l?(i.view=i.view.slice(0,a.index).concat(Ee(t,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):He(t)}var s=i.externalMeasured;s&&(r<s.lineN?s.lineN+=n:e<s.lineN+s.size&&(i.externalMeasured=null))}function Ie(t,e,r){t.curOp.viewChanged=!0;var n=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[Re(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Wi(a,r)&&a.push(r)}}}function He(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Re(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var r=t.display.view,n=0;n<r.length;n++)if(e-=r[n].size,0>e)return n}function Pe(t,e,r,n){var i,o=Re(t,e),a=t.display.view;if(!Io||r==t.doc.first+t.doc.size)return{index:o,lineN:r};for(var l=0,s=t.display.viewFrom;o>l;l++)s+=a[l].size;if(s!=e){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,r+=i}for(;bn(t.doc,r)!=r;){if(o==(0>n?0:a.length-1))return null;r+=n*a[o-(0>n?1:0)].size,o+=n}return{index:o,lineN:r}}function ze(t,e,r){var n=t.display,i=n.view;0==i.length||e>=n.viewTo||r<=n.viewFrom?(n.view=Ee(t,e,r),n.viewFrom=e):(n.viewFrom>e?n.view=Ee(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Re(t,e))),n.viewFrom=e,n.viewTo<r?n.view=n.view.concat(Ee(t,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Re(t,r)))),n.viewTo=r}function je(t){for(var e=t.display.view,r=0,n=0;n<e.length;n++){var i=e[n];i.hidden||i.node&&!i.changes||++r}return r}function Fe(t){function e(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function r(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var r=e.left-t.left,n=e.top-t.top;return r*r+n*n>400}var i=t.display;Ma(i.scroller,"mousedown",Oe(t,Ge)),yo&&11>bo?Ma(i.scroller,"dblclick",Oe(t,function(e){if(!ki(t,e)){var r=Ve(t,e);if(r&&!Ze(t,e)&&!Ue(t.display,e)){ka(e);var n=t.findWordAt(r);xt(t.doc,n.anchor,n.head)}}})):Ma(i.scroller,"dblclick",function(e){ki(t,e)||ka(e)}),Eo||Ma(i.scroller,"contextmenu",function(e){mr(t,e)});var o,a={end:0};Ma(i.scroller,"touchstart",function(t){if(!r(t)){clearTimeout(o);var e=+new Date;i.activeTouch={start:e,moved:!1,prev:e-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Ma(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Ma(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Ue(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,l=t.coordsChar(i.activeTouch,"page");a=!o.prev||n(o,o.prev)?new ht(l,l):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(l):new ht(Ho(l.line,0),gt(t.doc,Ho(l.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),ka(r)}e()}),Ma(i.scroller,"touchcancel",e),Ma(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rr(t,i.scroller.scrollTop),nr(t,i.scroller.scrollLeft,!0),Na(t,"scroll",t))}),Ma(i.scroller,"mousewheel",function(e){ir(t,e)}),Ma(i.scroller,"DOMMouseScroll",function(e){ir(t,e)}),Ma(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){ki(t,e)||Ta(e)},over:function(e){ki(t,e)||(tr(t,e),Ta(e))},start:function(e){Qe(t,e)},drop:Oe(t,Je),leave:function(){er(t)}};var l=i.input.getField();Ma(l,"keyup",function(e){hr.call(t,e)}),Ma(l,"keydown",Oe(t,cr)),Ma(l,"keypress",Oe(t,dr)),Ma(l,"focus",Ri(vr,t)),Ma(l,"blur",Ri(gr,t))}function Be(e,r,n){var i=n&&n!=t.Init;if(!r!=!i){var o=e.display.dragFunctions,a=r?Ma:Aa;a(e.display.scroller,"dragstart",o.start),a(e.display.scroller,"dragenter",o.enter),a(e.display.scroller,"dragover",o.over),a(e.display.scroller,"dragleave",o.leave),a(e.display.scroller,"drop",o.drop)}}function $e(t){var e=t.display;(e.lastWrapHeight!=e.wrapper.clientHeight||e.lastWrapWidth!=e.wrapper.clientWidth)&&(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ue(t,e){for(var r=wi(e);r!=t.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==t.sizer&&r!=t.mover)return!0}function Ve(t,e,r,n){var i=t.display;if(!r&&"true"==wi(e).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=e.clientX-l.left,a=e.clientY-l.top}catch(e){return null}var s,u=ve(t,o,a);if(n&&1==u.xRel&&(s=Yn(t.doc,u.line).text).length==u.ch){var c=Pa(s,s.length,t.options.tabSize)-s.length;u=Ho(u.line,Math.max(0,Math.round((o-Ut(t.display).left)/ye(t.display))-c))}return u}function Ge(t){var e=this,r=e.display;if(!(r.activeTouch&&r.input.supportsTouch()||ki(e,t))){if(r.shift=t.shiftKey,Ue(r,t))return void(wo||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Ze(e,t)){var n=Ve(e,t);switch(window.focus(),xi(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?qe(e,t,n):wi(t)==r.scroller&&ka(t);break;case 2:wo&&(e.state.lastMiddleDown=+new Date),n&&xt(e.doc,n),setTimeout(function(){r.input.focus()},20),ka(t);break;case 3:Eo?mr(e,t):pr(e)}}}}function qe(t,e,r){yo?setTimeout(Ri(Y,t),0):t.curOp.focus=Ui();var n,i=+new Date;Fo&&Fo.time>i-400&&0==Ro(Fo.pos,r)?n="triple":jo&&jo.time>i-400&&0==Ro(jo.pos,r)?(n="double",Fo={time:i,pos:r}):(n="single",jo={time:i,pos:r});var o,a=t.doc.sel,l=Oo?e.metaKey:e.ctrlKey;t.options.dragDrop&&Ja&&!Z(t)&&"single"==n&&(o=a.contains(r))>-1&&(Ro((o=a.ranges[o]).from(),r)<0||r.xRel>0)&&(Ro(o.to(),r)>0||r.xRel<0)?Ke(t,e,r,l):Xe(t,e,r,n,l)}function Ke(t,e,r,n){var i=t.display,o=+new Date,a=Oe(t,function(l){wo&&(i.scroller.draggable=!1),t.state.draggingText=!1,Aa(document,"mouseup",a),Aa(i.scroller,"drop",a),Math.abs(e.clientX-l.clientX)+Math.abs(e.clientY-l.clientY)<10&&(ka(l),!n&&+new Date-200<o&&xt(t.doc,r),wo||yo&&9==bo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});wo&&(i.scroller.draggable=!0),t.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),Ma(document,"mouseup",a),Ma(i.scroller,"drop",a)}function Xe(t,e,r,n,i){function o(e){if(0!=Ro(g,e))if(g=e,"rect"==n){for(var i=[],o=t.options.tabSize,a=Pa(Yn(u,r.line).text,r.ch,o),l=Pa(Yn(u,e.line).text,e.ch,o),s=Math.min(a,l),d=Math.max(a,l),p=Math.min(r.line,e.line),v=Math.min(t.lastLine(),Math.max(r.line,e.line));v>=p;p++){var m=Yn(u,p).text,y=za(m,s,o);s==d?i.push(new ht(Ho(p,y),Ho(p,y))):m.length>y&&i.push(new ht(Ho(p,y),Ho(p,za(m,d,o))))}i.length||i.push(new ht(r,r)),Tt(u,dt(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=c,w=b.anchor,x=e;if("single"!=n){if("double"==n)var C=t.findWordAt(e);else var C=new ht(Ho(e.line,0),gt(u,Ho(e.line+1,0)));Ro(C.anchor,w)>0?(x=C.head,w=X(b.from(),C.anchor)):(x=C.anchor,w=K(b.to(),C.head))}var i=h.ranges.slice(0);i[f]=new ht(gt(u,w),x),Tt(u,dt(i,f),Ha)}}function a(e){var r=++y,i=Ve(t,e,!0,"rect"==n);if(i)if(0!=Ro(i,g)){t.curOp.focus=Ui(),o(i);var l=w(s,u);(i.line>=l.to||i.line<l.from)&&setTimeout(Oe(t,function(){y==r&&a(e)}),150)}else{var c=e.clientY<m.top?-20:e.clientY>m.bottom?20:0;c&&setTimeout(Oe(t,function(){y==r&&(s.scroller.scrollTop+=c,a(e))}),50)}}function l(e){t.state.selectingText=!1,y=1/0,ka(e),s.input.focus(),Aa(document,"mousemove",b),Aa(document,"mouseup",x),u.history.lastSelOrigin=null}var s=t.display,u=t.doc;ka(e);var c,f,h=u.sel,d=h.ranges;if(i&&!e.shiftKey?(f=u.sel.contains(r),c=f>-1?d[f]:new ht(r,r)):(c=u.sel.primary(),f=u.sel.primIndex),e.altKey)n="rect",i||(c=new ht(r,r)),r=Ve(t,e,!0,!0),f=-1;else if("double"==n){var p=t.findWordAt(r);c=t.display.shift||u.extend?wt(u,c,p.anchor,p.head):p}else if("triple"==n){var v=new ht(Ho(r.line,0),gt(u,Ho(r.line+1,0)));c=t.display.shift||u.extend?wt(u,c,v.anchor,v.head):v}else c=wt(u,c,r);i?-1==f?(f=d.length,Tt(u,dt(d.concat([c]),f),{scroll:!1,origin:"*mouse"})):d.length>1&&d[f].empty()&&"single"==n&&!e.shiftKey?(Tt(u,dt(d.slice(0,f).concat(d.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):_t(u,f,c,Ha):(f=0,Tt(u,new ft([c],0),Ha),h=u.sel);var g=r,m=s.wrapper.getBoundingClientRect(),y=0,b=Oe(t,function(t){xi(t)?a(t):l(t)}),x=Oe(t,l);t.state.selectingText=x,Ma(document,"mousemove",b),Ma(document,"mouseup",x)}function Ye(t,e,r,n,i){try{var o=e.clientX,a=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&ka(e);var l=t.display,s=l.lineDiv.getBoundingClientRect();if(a>s.bottom||!Ti(t,r))return bi(e);a-=s.top-l.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var c=l.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var f=ei(t.doc,a),h=t.options.gutters[u];return i(t,r,t,f,h,e),bi(e)}}}function Ze(t,e){return Ye(t,e,"gutterClick",!0,_i)}function Je(t){var e=this;if(er(e),!ki(e,t)&&!Ue(e.display,t)){ka(t),yo&&(Vo=+new Date);var r=Ve(e,t,!0),n=t.dataTransfer.files;if(r&&!Z(e))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,l=function(t,n){if(!e.options.allowDropFileTypes||-1!=Wi(e.options.allowDropFileTypes,t.type)){var l=new FileReader;l.onload=Oe(e,function(){var t=l.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++a==i){r=gt(e.doc,r);var s={from:r,to:r,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Sr(e.doc,s),Lt(e.doc,pt(r,Zo(s)))}}),l.readAsText(t)}},s=0;i>s;++s)l(n[s],s);else{if(e.state.draggingText&&e.doc.sel.contains(r)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!(Oo?t.altKey:t.ctrlKey))var u=e.listSelections();if(Mt(e.doc,pt(r,r)),u)for(var s=0;s<u.length;++s)Ar(e.doc,"",u[s].anchor,u[s].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Qe(t,e){if(yo&&(!t.state.draggingText||+new Date-Vo<100))return void Ta(e);if(!ki(t,e)&&!Ue(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!So)){var r=Fi("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_o&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),_o&&r.parentNode.removeChild(r)}}function tr(t,e){var r=Ve(t,e);if(r){var n=document.createDocumentFragment();It(t,r,n),t.display.dragCursor||(t.display.dragCursor=Fi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),$i(t.display.dragCursor,n)}}function er(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rr(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,vo||O(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),vo&&O(t),Pt(t,100))}function nr(t,e,r){(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function ir(t,e){var r=Ko(e),n=r.x,i=r.y,o=t.display,a=o.scroller,l=a.scrollWidth>a.clientWidth,s=a.scrollHeight>a.clientHeight;if(n&&l||i&&s){if(i&&Oo&&wo)t:for(var u=e.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){t.display.currentWheelTarget=u;break t}if(n&&!vo&&!_o&&null!=qo)return i&&s&&rr(t,Math.max(0,Math.min(a.scrollTop+i*qo,a.scrollHeight-a.clientHeight))),nr(t,Math.max(0,Math.min(a.scrollLeft+n*qo,a.scrollWidth-a.clientWidth))),(!i||i&&s)&&ka(e),void(o.wheelStartX=null);if(i&&null!=qo){var h=i*qo,d=t.doc.scrollTop,p=d+o.wrapper.clientHeight;0>h?d=Math.max(0,d+h-50):p=Math.min(t.doc.height,p+h+50),O(t,{top:d,bottom:p})}20>Go&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,r=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(qo=(qo*Go+r)/(Go+1),++Go)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function or(t,e,r){if("string"==typeof e&&(e=sa[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,i=!1;try{Z(t)&&(t.state.suppressEdits=!0),r&&(t.display.shift=!1),i=e(t)!=Da}finally{t.display.shift=n,t.state.suppressEdits=!1}return i}function ar(t,e,r){for(var n=0;n<t.state.keyMaps.length;n++){var i=ca(e,t.state.keyMaps[n],r,t);if(i)return i}return t.options.extraKeys&&ca(e,t.options.extraKeys,r,t)||ca(e,t.options.keyMap,r,t)}function lr(t,e,r,n){var i=t.state.keySeq;if(i){if(fa(e))return"handled";Xo.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),e=i+" "+e}var o=ar(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&_i(t,"keyHandled",t,e,r),("handled"==o||"multi"==o)&&(ka(r),Rt(t)),i&&!o&&/\'$/.test(e)?(ka(r),!0):!!o}function sr(t,e){var r=ha(e,!0);return r?e.shiftKey&&!t.state.keySeq?lr(t,"Shift-"+r,e,function(e){return or(t,e,!0)})||lr(t,r,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?or(t,e):void 0}):lr(t,r,e,function(e){return or(t,e)}):!1}function ur(t,e,r){return lr(t,"'"+r+"'",e,function(e){return or(t,e,!0)})}function cr(t){var e=this;if(e.curOp.focus=Ui(),!ki(e,t)){yo&&11>bo&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var n=sr(e,t);_o&&(Yo=n?r:null,!n&&88==r&&!el&&(Oo?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||fr(e)}}function fr(t){function e(t){18!=t.keyCode&&t.altKey||(Xa(r,"CodeMirror-crosshair"),Aa(document,"keyup",e),Aa(document,"mouseover",e))}var r=t.display.lineDiv;Ya(r,"CodeMirror-crosshair"),Ma(document,"keyup",e),Ma(document,"mouseover",e)}function hr(t){16==t.keyCode&&(this.doc.sel.shift=!1),ki(this,t)}function dr(t){var e=this;if(!(Ue(e.display,t)||ki(e,t)||t.ctrlKey&&!t.altKey||Oo&&t.metaKey)){var r=t.keyCode,n=t.charCode;if(_o&&r==Yo)return Yo=null,void ka(t);if(!_o||t.which&&!(t.which<10)||!sr(e,t)){var i=String.fromCharCode(null==n?r:n);ur(e,t,i)||e.display.input.onKeyPress(t)}}}function pr(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,gr(t))},100)}function vr(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Na(t,"focus",t),t.state.focused=!0,Ya(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),wo&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Rt(t))}function gr(t){t.state.delayingBlurEvent||(t.state.focused&&(Na(t,"blur",t),t.state.focused=!1,Xa(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function mr(t,e){Ue(t.display,e)||yr(t,e)||ki(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function yr(t,e){return Ti(t,"gutterContextMenu")?Ye(t,e,"gutterContextMenu",!1,Na):!1}function br(t,e){if(Ro(t,e.from)<0)return t;if(Ro(t,e.to)<=0)return Zo(e);var r=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=Zo(e).ch-e.to.ch),Ho(r,n)}function wr(t,e){for(var r=[],n=0;n<t.sel.ranges.length;n++){var i=t.sel.ranges[n];r.push(new ht(br(i.anchor,e),br(i.head,e)))}return dt(r,t.sel.primIndex)}function xr(t,e,r){return t.line==e.line?Ho(r.line,t.ch-e.ch+r.ch):Ho(r.line+(t.line-e.line),t.ch)}function Cr(t,e,r){for(var n=[],i=Ho(t.first,0),o=i,a=0;a<e.length;a++){var l=e[a],s=xr(l.from,i,o),u=xr(Zo(l),i,o);if(i=l.to,o=u,"around"==r){var c=t.sel.ranges[a],f=Ro(c.head,c.anchor)<0;n[a]=new ht(f?u:s,f?s:u)}else n[a]=new ht(s,s)}return new ft(n,t.sel.primIndex)}function _r(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(e,r,n,i){e&&(this.from=gt(t,e)),r&&(this.to=gt(t,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Na(t,"beforeChange",t,n),t.cm&&Na(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Sr(t,e,r){if(t.cm){if(!t.cm.curOp)return Oe(t.cm,Sr)(t,e,r);if(t.cm.state.suppressEdits)return}if(!(Ti(t,"beforeChange")||t.cm&&Ti(t.cm,"beforeChange"))||(e=_r(t,e,!0))){var n=Do&&!r&&ln(t,e.from,e.to);if(n)for(var i=n.length-1;i>=0;--i)kr(t,{from:n[i].from,to:n[i].to,text:i?[""]:e.text});else kr(t,e)}}function kr(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Ro(e.from,e.to)){var r=wr(t,e);si(t,e,r,t.cm?t.cm.curOp.id:NaN),Mr(t,e,r,nn(t,e));var n=[];Kn(t,function(t,r){r||-1!=Wi(n,t.history)||(yi(t.history,e),n.push(t.history)),Mr(t,e,null,nn(t,e))})}}function Lr(t,e,r){if(!t.cm||!t.cm.state.suppressEdits){for(var n,i=t.history,o=t.sel,a="undo"==e?i.done:i.undone,l="undo"==e?i.undone:i.done,s=0;s<a.length&&(n=a[s],r?!n.ranges||n.equals(t.sel):n.ranges);s++);if(s!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;n=a.pop(),n.ranges;){if(fi(n,l),r&&!n.equals(t.sel))return void Tt(t,n,{clearRedo:!1});o=n}var u=[];fi(o,l),l.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Ti(t,"beforeChange")||t.cm&&Ti(t.cm,"beforeChange"),s=n.changes.length-1;s>=0;--s){var f=n.changes[s];if(f.origin=e,c&&!_r(t,f,!1))return void(a.length=0);u.push(oi(t,f));var h=s?wr(t,f):Ni(a);Mr(t,f,h,an(t,f)),!s&&t.cm&&t.cm.scrollIntoView({from:f.from,to:Zo(f)});var d=[];Kn(t,function(t,e){e||-1!=Wi(d,t.history)||(yi(t.history,f),d.push(t.history)),Mr(t,f,null,an(t,f))})}}}}function Tr(t,e){if(0!=e&&(t.first+=e,t.sel=new ft(Ei(t.sel.ranges,function(t){return new ht(Ho(t.anchor.line+e,t.anchor.ch),Ho(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){De(t.cm,t.first,t.first-e,e);for(var r=t.cm.display,n=r.viewFrom;n<r.viewTo;n++)Ie(t.cm,n,"gutter")}}function Mr(t,e,r,n){if(t.cm&&!t.cm.curOp)return Oe(t.cm,Mr)(t,e,r,n);if(e.to.line<t.first)return void Tr(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Tr(t,i),e={from:Ho(t.first,0),to:Ho(e.to.line+i,e.to.ch),text:[Ni(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ho(o,Yn(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Zn(t,e.from,e.to),r||(r=wr(t,e)),t.cm?Or(t.cm,e,n):Vn(t,e,n),Mt(t,r,Ia)}}function Or(t,e,r){var n=t.doc,i=t.display,a=e.from,l=e.to,s=!1,u=a.line;t.options.lineWrapping||(u=ti(mn(Yn(n,a.line))),n.iter(u,l.line+1,function(t){return t==i.maxLine?(s=!0,!0):void 0})),n.sel.contains(e.from,e.to)>-1&&Li(t),Vn(n,e,r,o(t)),t.options.lineWrapping||(n.iter(u,a.line+e.text.length,function(t){var e=f(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,a.line),Pt(t,400);var c=e.text.length-(l.line-a.line)-1;e.full?De(t):a.line!=l.line||1!=e.text.length||Un(t.doc,e)?De(t,a.line,l.line+1,c):Ie(t,a.line,"text");var h=Ti(t,"changes"),d=Ti(t,"change");if(d||h){var p={from:a,to:l,text:e.text,removed:e.removed,origin:e.origin};d&&_i(t,"change",t,p),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function Ar(t,e,r,n,i){if(n||(n=r),Ro(n,r)<0){var o=n;n=r,r=o}"string"==typeof e&&(e=t.splitLines(e)),Sr(t,{from:r,to:n,text:e,origin:i})}function Nr(t,e){if(!ki(t,"scrollCursorIntoView")){var r=t.display,n=r.sizer.getBoundingClientRect(),i=null;if(e.top+n.top<0?i=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Lo){var o=Fi("div","​",null,"position: absolute; top: "+(e.top-r.viewOffset-Bt(t.display))+"px; height: "+(e.bottom-e.top+Vt(t)+r.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function Wr(t,e,r,n){null==n&&(n=0);for(var i=0;5>i;i++){var o=!1,a=he(t,e),l=r&&r!=e?he(t,r):a,s=Dr(t,Math.min(a.left,l.left),Math.min(a.top,l.top)-n,Math.max(a.left,l.left),Math.max(a.bottom,l.bottom)+n),u=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=s.scrollTop&&(rr(t,s.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(o=!0)),null!=s.scrollLeft&&(nr(t,s.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function Er(t,e,r,n,i){var o=Dr(t,e,r,n,i);null!=o.scrollTop&&rr(t,o.scrollTop),null!=o.scrollLeft&&nr(t,o.scrollLeft)}function Dr(t,e,r,n,i){var o=t.display,a=me(t.display);0>r&&(r=0);var l=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,s=qt(t),u={};i-r>s&&(i=r+s);var c=t.doc.height+$t(o),f=a>r,h=i>c-a;if(l>r)u.scrollTop=f?0:r;else if(i>l+s){var d=Math.min(r,(h?c:i)-s);d!=l&&(u.scrollTop=d)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,v=Gt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),g=n-e>v;return g&&(n=e+v),10>e?u.scrollLeft=0:p>e?u.scrollLeft=Math.max(0,e-(g?0:10)):n>v+p-3&&(u.scrollLeft=n+(g?0:10)-v),u}function Ir(t,e,r){(null!=e||null!=r)&&Rr(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=r&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+r)}function Hr(t){Rr(t);var e=t.getCursor(),r=e,n=e;t.options.lineWrapping||(r=e.ch?Ho(e.line,e.ch-1):e,n=Ho(e.line,e.ch+1)),t.curOp.scrollToPos={from:r,to:n,margin:t.options.cursorScrollMargin,isCursor:!0}}function Rr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var r=de(t,e.from),n=de(t,e.to),i=Dr(t,Math.min(r.left,n.left),Math.min(r.top,n.top)-e.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+e.margin);t.scrollTo(i.scrollLeft,i.scrollTop)}}function Pr(t,e,r,n){var i,o=t.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Ft(t,e):r="prev");var a=t.options.tabSize,l=Yn(o,e),s=Pa(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,c=l.text.match(/^\s*/)[0];
if(n||/\S/.test(l.text)){if("smart"==r&&(u=o.mode.indent(i,l.text.slice(c.length),l.text),u==Da||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=e>o.first?Pa(Yn(o,e-1).text,null,a):0:"add"==r?u=s+t.options.indentUnit:"subtract"==r?u=s-t.options.indentUnit:"number"==typeof r&&(u=s+r),u=Math.max(0,u);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(u/a);d;--d)h+=a,f+="	";if(u>h&&(f+=Ai(u-h)),f!=c)return Ar(o,f,Ho(e,0),Ho(e,c.length),"+input"),l.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==e&&p.head.ch<c.length){var h=Ho(e,c.length);_t(o,d,new ht(h,h));break}}}function zr(t,e,r,n){var i=e,o=e;return"number"==typeof e?o=Yn(t,vt(t,e)):i=ti(e),null==i?null:(n(o,i)&&t.cm&&Ie(t.cm,i,r),o)}function jr(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=e(r[i]);n.length&&Ro(o.from,Ni(n).to)<=0;){var a=n.pop();if(Ro(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Me(t,function(){for(var e=n.length-1;e>=0;e--)Ar(t.doc,"",n[e].from,n[e].to,"+delete");Hr(t)})}function Fr(t,e,r,n,i){function o(){var e=l+r;return e<t.first||e>=t.first+t.size?f=!1:(l=e,c=Yn(t,e))}function a(t){var e=(i?co:fo)(c,s,r,!0);if(null==e){if(t||!o())return f=!1;s=i?(0>r?no:ro)(c):0>r?c.text.length:0}else s=e;return!0}var l=e.line,s=e.ch,u=r,c=Yn(t,l),f=!0;if("char"==n)a();else if("column"==n)a(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=t.cm&&t.cm.getHelper(e,"wordChars"),v=!0;!(0>r)||a(!v);v=!1){var g=c.text.charAt(s)||"\n",m=Pi(g,p)?"w":d&&"\n"==g?"n":!d||/\s/.test(g)?null:"p";if(!d||v||m||(m="s"),h&&h!=m){0>r&&(r=1,a());break}if(m&&(h=m),r>0&&!a(!v))break}var y=Wt(t,Ho(l,s),u,!0);return f||(y.hitSide=!0),y}function Br(t,e,r,n){var i,o=t.doc,a=e.left;if("page"==n){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+r*(l-(0>r?1.5:.5)*me(t.display))}else"line"==n&&(i=r>0?e.bottom+3:e.top-3);for(;;){var s=ve(t,a,i);if(!s.outside)break;if(0>r?0>=i:i>=o.height){s.hitSide=!0;break}i+=5*r}return s}function $r(e,r,n,i){t.defaults[e]=r,n&&(Qo[e]=i?function(t,e,r){r!=ta&&n(t,e,r)}:n)}function Ur(t){for(var e,r,n,i,o=t.split(/-(?!$)/),t=o[o.length-1],a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else{if(!/^s(hift)$/i.test(l))throw new Error("Unrecognized modifier name: "+l);n=!0}}return e&&(t="Alt-"+t),r&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function Vr(t){return"string"==typeof t?ua[t]:t}function Gr(t,e,r,n,i){if(n&&n.shared)return qr(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return Oe(t.cm,Gr)(t,e,r,n,i);var o=new va(t,i),a=Ro(e,r);if(n&&Hi(n,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Fi("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(gn(t,e.line,e,r,o)||e.line!=r.line&&gn(t,r.line,e,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Io=!0}o.addToHistory&&si(t,{from:e,to:r,origin:"markText"},t.sel,NaN);var l,s=e.line,u=t.cm;if(t.iter(s,r.line+1,function(t){u&&o.collapsed&&!u.options.lineWrapping&&mn(t)==u.display.maxLine&&(l=!0),o.collapsed&&s!=e.line&&Qn(t,0),tn(t,new Zr(o,s==e.line?e.ch:null,s==r.line?r.ch:null)),++s}),o.collapsed&&t.iter(e.line,r.line+1,function(e){xn(t,e)&&Qn(e,0)}),o.clearOnEnter&&Ma(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Do=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++pa,o.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),o.collapsed)De(u,e.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=e.line;c<=r.line;c++)Ie(u,c,"text");o.atomic&&At(u.doc),_i(u,"markerAdded",u,o)}return o}function qr(t,e,r,n,i){n=Hi(n),n.shared=!1;var o=[Gr(t,e,r,n,i)],a=o[0],l=n.widgetNode;return Kn(t,function(t){l&&(n.widgetNode=l.cloneNode(!0)),o.push(Gr(t,gt(t,e),gt(t,r),n,i));for(var s=0;s<t.linked.length;++s)if(t.linked[s].isParent)return;a=Ni(o)}),new ga(o,a)}function Kr(t){return t.findMarks(Ho(t.first,0),t.clipPos(Ho(t.lastLine())),function(t){return t.parent})}function Xr(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(Ro(o,a)){var l=Gr(t,o,a,n.primary,n.primary.type);n.markers.push(l),l.parent=n}}}function Yr(t){for(var e=0;e<t.length;e++){var r=t[e],n=[r.primary.doc];Kn(r.primary.doc,function(t){n.push(t)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==Wi(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}}function Zr(t,e,r){this.marker=t,this.from=e,this.to=r}function Jr(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function Qr(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function tn(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function en(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],a=o.marker,l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(l||o.from==e&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new Zr(a,o.from,s?null:o.to))}}return n}function rn(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],a=o.marker,l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(l||o.from==e&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new Zr(a,s?null:o.from-e,null==o.to?null:o.to-e))}}return n}function nn(t,e){if(e.full)return null;var r=yt(t,e.from.line)&&Yn(t,e.from.line).markedSpans,n=yt(t,e.to.line)&&Yn(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,o=e.to.ch,a=0==Ro(e.from,e.to),l=en(r,i,a),s=rn(n,o,a),u=1==e.text.length,c=Ni(e.text).length+(u?i:0);if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null==h.to){var d=Jr(s,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null!=h.to&&(h.to+=c),null==h.from){var d=Jr(l,h.marker);d||(h.from=c,u&&(l||(l=[])).push(h))}else h.from+=c,u&&(l||(l=[])).push(h)}l&&(l=on(l)),s&&s!=l&&(s=on(s));var p=[l];if(!u){var v,g=e.text.length-2;if(g>0&&l)for(var f=0;f<l.length;++f)null==l[f].to&&(v||(v=[])).push(new Zr(l[f].marker,null,null));for(var f=0;g>f;++f)p.push(v);p.push(s)}return p}function on(t){for(var e=0;e<t.length;++e){var r=t[e];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function an(t,e){var r=pi(t,e),n=nn(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)t:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue t;o.push(s)}else a&&(r[i]=a)}return r}function ln(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=Wi(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:e,to:r}],o=0;o<n.length;++o)for(var a=n[o],l=a.find(0),s=0;s<i.length;++s){var u=i[s];if(!(Ro(u.to,l.from)<0||Ro(u.from,l.to)>0)){var c=[s,1],f=Ro(u.from,l.from),h=Ro(u.to,l.to);(0>f||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:l.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-1}}return i}function sn(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function un(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function cn(t){return t.inclusiveLeft?-1:0}function fn(t){return t.inclusiveRight?1:0}function hn(t,e){var r=t.lines.length-e.lines.length;if(0!=r)return r;var n=t.find(),i=e.find(),o=Ro(n.from,i.from)||cn(t)-cn(e);if(o)return-o;var a=Ro(n.to,i.to)||fn(t)-fn(e);return a?a:e.id-t.id}function dn(t,e){var r,n=Io&&t.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!r||hn(r,i.marker)<0)&&(r=i.marker);return r}function pn(t){return dn(t,!0)}function vn(t){return dn(t,!1)}function gn(t,e,r,n,i){var o=Yn(t,e),a=Io&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(0),c=Ro(u.from,r)||cn(s.marker)-cn(i),f=Ro(u.to,n)||fn(s.marker)-fn(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Ro(u.to,r)>0||s.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Ro(u.from,n)<0||s.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function mn(t){for(var e;e=pn(t);)t=e.find(-1,!0).line;return t}function yn(t){for(var e,r;e=vn(t);)t=e.find(1,!0).line,(r||(r=[])).push(t);return r}function bn(t,e){var r=Yn(t,e),n=mn(r);return r==n?e:ti(n)}function wn(t,e){if(e>t.lastLine())return e;var r,n=Yn(t,e);if(!xn(t,n))return e;for(;r=vn(n);)n=r.find(1,!0).line;return ti(n)+1}function xn(t,e){var r=Io&&e.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Cn(t,e,n))return!0}}function Cn(t,e,r){if(null==r.to){var n=r.marker.find(1,!0);return Cn(t,n.line,Jr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var i,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Cn(t,e,i))return!0}function _n(t,e,r){ri(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ir(t,null,r)}function Sn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Ga(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),$i(e.display.measure,Fi("div",[t.node],null,r))}return t.height=t.node.offsetHeight}function kn(t,e,r,n){var i=new ma(t,r,n),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),zr(t,e,"widget",function(e){var r=e.widgets||(e.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!xn(t,e)){var n=ri(e)<t.scrollTop;Qn(e,e.height+Sn(i)),n&&Ir(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Ln(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),sn(t),un(t,r);var i=n?n(t):1;i!=t.height&&Qn(t,i)}function Tn(t){t.parent=null,sn(t)}function Mn(t,e){if(t)for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==e[n]?e[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+r[2])}return t}function On(e,r){if(e.blankLine)return e.blankLine(r);if(e.innerMode){var n=t.innerMode(e,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function An(e,r,n,i){for(var o=0;10>o;o++){i&&(i[0]=t.innerMode(e,n).mode);var a=e.token(r,n);if(r.pos>r.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function Nn(t,e,r,n){function i(t){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:t?aa(a.mode,c):c}}var o,a=t.doc,l=a.mode;e=gt(a,e);var s,u=Yn(a,e.line),c=Ft(t,e.line,r),f=new da(u.text,t.options.tabSize);for(n&&(s=[]);(n||f.pos<e.ch)&&!f.eol();)f.start=f.pos,o=An(l,f,c),n&&s.push(i(!0));return n?s:i()}function Wn(t,e,r,n,i,o,a){var l=r.flattenSpans;null==l&&(l=t.options.flattenSpans);var s,u=0,c=null,f=new da(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&Mn(On(r,n),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(l=!1,a&&In(t,e,n,f.pos),f.pos=e.length,s=null):s=Mn(An(r,f,n,h),o),h){var d=h[0].name;d&&(s="m-"+(s?d+" "+s:d))}if(!l||c!=s){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=s}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e4);i(p,c),u=p}}function En(t,e,r,n){var i=[t.state.modeGen],o={};Wn(t,e.text,t.doc.mode,r,function(t,e){i.push(t,e)},o,n);for(var a=0;a<t.state.overlays.length;++a){var l=t.state.overlays[a],s=1,u=0;Wn(t,e.text,l.mode,!0,function(t,e){for(var r=s;t>u;){var n=i[s];n>t&&i.splice(s,1,t,i[s+1],n),s+=2,u=Math.min(t,n)}if(e)if(l.opaque)i.splice(r,s-r,t,"cm-overlay "+e),s=r+2;else for(;s>r;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Dn(t,e,r){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=Ft(t,ti(e)),i=En(t,e,e.text.length>t.options.maxHighlightLength?aa(t.doc.mode,n):n);e.stateAfter=n,e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),r===t.doc.frontier&&t.doc.frontier++}return e.styles}function In(t,e,r,n){var i=t.doc.mode,o=new da(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&On(i,r);!o.eol();)An(i,o,r),o.start=o.pos}function Hn(t,e){if(!t||/^\s*$/.test(t))return null;var r=e.addModeClass?wa:ba;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function Rn(t,e){var r=Fi("span",null,null,wo?"padding-right: .1px":null),n={pre:Fi("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:t,splitSpaces:(yo||wo)&&t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o,a=i?e.rest[i-1]:e.line;n.pos=0,n.addToken=zn,Zi(t.display.measure)&&(o=ni(a))&&(n.addToken=Fn(n.addToken,o)),n.map=[];var l=e!=t.display.externalMeasured&&ti(a);$n(a,n,Dn(t,a,l)),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=Gi(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=Gi(a.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Yi(t.display.measure))),0==i?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return wo&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),Na(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=Gi(n.pre.className,n.textClass||"")),n}function Pn(t){var e=Fi("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function zn(t,e,r,n,i,o,a){if(e){var l=t.splitSpaces?e.replace(/ {3,}/g,jn):e,s=t.cm.state.specialChars,u=!1;if(s.test(e))for(var c=document.createDocumentFragment(),f=0;;){s.lastIndex=f;var h=s.exec(e),d=h?h.index-f:e.length-f;if(d){var p=document.createTextNode(l.slice(f,f+d));yo&&9>bo?c.appendChild(Fi("span",[p])):c.appendChild(p),t.map.push(t.pos,t.pos+d,p),t.col+=d,t.pos+=d}if(!h)break;if(f+=d+1,"	"==h[0]){var v=t.cm.options.tabSize,g=v-t.col%v,p=c.appendChild(Fi("span",Ai(g),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),t.col+=g}else if("\r"==h[0]||"\n"==h[0]){var p=c.appendChild(Fi("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",h[0]),t.col+=1}else{var p=t.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),yo&&9>bo?c.appendChild(Fi("span",[p])):c.appendChild(p),t.col+=1}t.map.push(t.pos,t.pos+1,p),t.pos++}else{t.col+=e.length;var c=document.createTextNode(l);t.map.push(t.pos,t.pos+e.length,c),yo&&9>bo&&(u=!0),t.pos+=e.length}if(r||n||i||u||a){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Fi("span",[c],m,a);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(c)}}function jn(t){for(var e=" ",r=0;r<t.length-2;++r)e+=r%2?" ":" ";return e+=" "}function Fn(t,e){return function(r,n,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=0;f<e.length;f++){var h=e[f];if(h.to>u&&h.from<=u)break}if(h.to>=c)return t(r,n,i,o,a,l,s);t(r,n.slice(0,h.to-u),i,o,null,l,s),o=null,n=n.slice(h.to-u),u=h.to}}}function Bn(t,e,r,n){var i=!n&&r.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!n&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e}function $n(t,e,r){var n=t.markedSpans,i=t.text,o=0;if(n)for(var a,l,s,u,c,f,h,d=i.length,p=0,v=1,g="",m=0;;){if(m==p){s=u=c=f=l="",h=null,m=1/0;for(var y=[],b=0;b<n.length;++b){var w=n[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,u=""),x.className&&(s+=" "+x.className),x.css&&(l=x.css),x.startStyle&&w.from==p&&(c+=" "+x.startStyle),x.endStyle&&w.to==m&&(u+=" "+x.endStyle),x.title&&!f&&(f=x.title),x.collapsed&&(!h||hn(h.marker,x)<0)&&(h=w)):w.from>p&&m>w.from&&(m=w.from)}if(h&&(h.from||0)==p){if(Bn(e,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(var b=0;b<y.length;++b)Bn(e,0,y[b])}if(p>=d)break;for(var C=Math.min(d,m);;){if(g){var _=p+g.length;if(!h){var S=_>C?g.slice(0,C-p):g;e.addToken(e,S,a?a+s:s,c,p+S.length==m?u:"",f,l)}if(_>=C){g=g.slice(C-p),p=C;break}p=_,c=""}g=i.slice(o,o=r[v++]),a=Hn(r[v++],e.cm.options)}}else for(var v=1;v<r.length;v+=2)e.addToken(e,i.slice(o,o=r[v]),Hn(r[v+1],e.cm.options))}function Un(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Ni(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Vn(t,e,r,n){function i(t){return r?r[t]:null}function o(t,r,i){Ln(t,r,i,n),_i(t,"change",t,e)}function a(t,e){for(var r=t,o=[];e>r;++r)o.push(new ya(u[r],i(r),n));return o}var l=e.from,s=e.to,u=e.text,c=Yn(t,l.line),f=Yn(t,s.line),h=Ni(u),d=i(u.length-1),p=s.line-l.line;if(e.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Un(t,e)){var v=a(0,u.length-1);o(f,f.text,d),p&&t.remove(l.line,p),v.length&&t.insert(l.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,l.ch)+h+c.text.slice(s.ch),d);else{var v=a(1,u.length-1);v.push(new ya(h+c.text.slice(s.ch),d,n)),o(c,c.text.slice(0,l.ch)+u[0],i(0)),t.insert(l.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,l.ch)+u[0]+f.text.slice(s.ch),i(0)),t.remove(l.line+1,p);else{o(c,c.text.slice(0,l.ch)+u[0],i(0)),o(f,h+f.text.slice(s.ch),d);var v=a(1,u.length-1);p>1&&t.remove(l.line+1,p-1),t.insert(l.line+1,v)}_i(t,"change",t,e)}function Gn(t){this.lines=t,this.parent=null;for(var e=0,r=0;e<t.length;++e)t[e].parent=this,r+=t[e].height;this.height=r}function qn(t){this.children=t;for(var e=0,r=0,n=0;n<t.length;++n){var i=t[n];e+=i.chunkSize(),r+=i.height,i.parent=this}this.size=e,this.height=r,this.parent=null}function Kn(t,e,r){function n(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var l=t.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;(!r||s)&&(e(l.doc,s),n(l.doc,t,s))}}}n(t,null,!0)}function Xn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),r(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,De(t)}function Yn(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var r=t;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(o>e){r=i;break}e-=o}return r.lines[e]}function Zn(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,function(t){var o=t.text;i==r.line&&(o=o.slice(0,r.ch)),i==e.line&&(o=o.slice(e.ch)),n.push(o),++i}),n}function Jn(t,e,r){var n=[];return t.iter(e,r,function(t){n.push(t.text)}),n}function Qn(t,e){var r=e-t.height;if(r)for(var n=t;n;n=n.parent)n.height+=r}function ti(t){if(null==t.parent)return null;for(var e=t.parent,r=Wi(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function ei(t,e){var r=t.first;t:do{for(var n=0;n<t.children.length;++n){var i=t.children[n],o=i.height;if(o>e){t=i;continue t}e-=o,r+=i.chunkSize()}return r}while(!t.lines);for(var n=0;n<t.lines.length;++n){var a=t.lines[n],l=a.height;if(l>e)break;e-=l}return r+n}function ri(t){t=mn(t);for(var e=0,r=t.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==t)break;e+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var n=0;n<o.children.length;++n){var a=o.children[n];if(a==r)break;e+=a.height}return e}function ni(t){var e=t.order;return null==e&&(e=t.order=ol(t.text)),e}function ii(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function oi(t,e){var r={from:q(e.from),to:Zo(e),text:Zn(t,e.from,e.to)};return hi(t,r,e.from.line,e.to.line+1),Kn(t,function(t){hi(t,r,e.from.line,e.to.line+1)},!0),r}function ai(t){for(;t.length;){var e=Ni(t);if(!e.ranges)break;t.pop()}}function li(t,e){return e?(ai(t.done),Ni(t.done)):t.done.length&&!Ni(t.done).ranges?Ni(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Ni(t.done)):void 0}function si(t,e,r,n){var i=t.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=li(i,i.lastOp==n))){var l=Ni(o.changes);0==Ro(e.from,e.to)&&0==Ro(e.from,l.to)?l.to=Zo(e):o.changes.push(oi(t,e))}else{var s=Ni(i.done);for(s&&s.ranges||fi(t.sel,i.done),o={changes:[oi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=e.origin,l||Na(t,"historyAdded")}function ui(t,e,r,n){var i=e.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function ci(t,e,r,n){var i=t.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ui(t,o,Ni(i.done),e))?i.done[i.done.length-1]=e:fi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&ai(i.undone)}function fi(t,e){var r=Ni(e);r&&r.ranges&&r.equals(t)||e.push(t)}function hi(t,e,r,n){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(r){r.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=r.markedSpans),++o})}function di(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function pi(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=0,i=[];n<e.text.length;++n)i.push(di(r[n]));return i}function vi(t,e,r){for(var n=0,i=[];n<t.length;++n){var o=t[n];if(o.ranges)i.push(r?ft.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];i.push({changes:l});for(var s=0;s<a.length;++s){var u,c=a[s];if(l.push({from:c.from,to:c.to,text:c.text}),e)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Wi(e,Number(u[1]))>-1&&(Ni(l)[f]=c[f],delete c[f])}}}return i}function gi(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function mi(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var l=0;l<o.ranges.length;l++)gi(o.ranges[l].anchor,e,r,n),gi(o.ranges[l].head,e,r,n)}else{for(var l=0;l<o.changes.length;++l){var s=o.changes[l];if(r<s.from.line)s.from=Ho(s.from.line+n,s.from.ch),s.to=Ho(s.to.line+n,s.to.ch);else if(e<=s.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function yi(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;mi(t.done,r,n,i),mi(t.undone,r,n,i)}function bi(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function wi(t){return t.target||t.srcElement}function xi(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Oo&&t.ctrlKey&&1==e&&(e=3),e}function Ci(t,e,r){var n=t._handlers&&t._handlers[e];return r?n&&n.length>0?n.slice():Oa:n||Oa}function _i(t,e){function r(t){return function(){t.apply(null,o)}}var n=Ci(t,e,!1);if(n.length){var i,o=Array.prototype.slice.call(arguments,2);$o?i=$o.delayedCallbacks:Wa?i=Wa:(i=Wa=[],setTimeout(Si,0));for(var a=0;a<n.length;++a)i.push(r(n[a]))}}function Si(){var t=Wa;Wa=null;for(var e=0;e<t.length;++e)t[e]()}function ki(t,e,r){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Na(t,r||e.type,t,e),bi(e)||e.codemirrorIgnore}function Li(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var r=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==Wi(r,e[n])&&r.push(e[n])}function Ti(t,e){return Ci(t,e).length>0}function Mi(t){t.prototype.on=function(t,e){Ma(this,t,e)},t.prototype.off=function(t,e){Aa(this,t,e)}}function Oi(){this.id=null}function Ai(t){for(;ja.length<=t;)ja.push(Ni(ja)+" ");return ja[t]}function Ni(t){return t[t.length-1]}function Wi(t,e){for(var r=0;r<t.length;++r)if(t[r]==e)return r;return-1}function Ei(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=e(t[n],n);return r}function Di(){}function Ii(t,e){var r;return Object.create?r=Object.create(t):(Di.prototype=t,r=new Di),e&&Hi(e,r),r}function Hi(t,e,r){e||(e={});for(var n in t)!t.hasOwnProperty(n)||r===!1&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function Ri(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Pi(t,e){return e?e.source.indexOf("\\w")>-1&&Ua(t)?!0:e.test(t):Ua(t)}function zi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function ji(t){return t.charCodeAt(0)>=768&&Va.test(t)}function Fi(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function Bi(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function $i(t,e){return Bi(t).appendChild(e)}function Ui(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Vi(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Gi(t,e){for(var r=t.split(" "),n=0;n<r.length;n++)r[n]&&!Vi(r[n]).test(e)&&(e+=" "+r[n]);return e}function qi(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),r=0;r<e.length;r++){var n=e[r].CodeMirror;n&&t(n)}}function Ki(){Za||(Xi(),Za=!0)}function Xi(){var t;Ma(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,qi($e)},100))}),Ma(window,"blur",function(){qi(gr)})}function Yi(t){if(null==qa){var e=Fi("span","​");$i(t,Fi("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(qa=e.offsetWidth<=1&&e.offsetHeight>2&&!(yo&&8>bo))}var r=qa?Fi("span","​"):Fi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Zi(t){if(null!=Ka)return Ka;var e=$i(t,document.createTextNode("AخA")),r=Ba(e,0,1).getBoundingClientRect();if(!r||r.left==r.right)return!1;var n=Ba(e,1,2).getBoundingClientRect();return Ka=n.right-r.right<3}function Ji(t){if(null!=rl)return rl;var e=$i(t,Fi("span","x")),r=e.getBoundingClientRect(),n=Ba(e,0,1).getBoundingClientRect();return rl=Math.abs(r.left-n.left)>1}function Qi(t,e,r,n){if(!t)return n(e,r,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<r&&a.to>e||e==r&&a.to==e)&&(n(Math.max(a.from,e),Math.min(a.to,r),1==a.level?"rtl":"ltr"),i=!0)}i||n(e,r,"ltr")}function to(t){return t.level%2?t.to:t.from}function eo(t){return t.level%2?t.from:t.to}function ro(t){var e=ni(t);return e?to(e[0]):0}function no(t){var e=ni(t);return e?eo(Ni(e)):t.text.length}function io(t,e){var r=Yn(t.doc,e),n=mn(r);n!=r&&(e=ti(n));var i=ni(n),o=i?i[0].level%2?no(n):ro(n):0;return Ho(e,o)}function oo(t,e){for(var r,n=Yn(t.doc,e);r=vn(n);)n=r.find(1,!0).line,e=null;var i=ni(n),o=i?i[0].level%2?ro(n):no(n):n.text.length;return Ho(null==e?ti(n):e,o)}function ao(t,e){var r=io(t,e.line),n=Yn(t.doc,r.line),i=ni(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),a=e.line==r.line&&e.ch<=o&&e.ch;return Ho(r.line,a?0:o)}return r}function lo(t,e,r){var n=t[0].level;return e==n?!0:r==n?!1:r>e}function so(t,e){il=null;for(var r,n=0;n<t.length;++n){var i=t[n];if(i.from<e&&i.to>e)return n;if(i.from==e||i.to==e){if(null!=r)return lo(t,i.level,t[r].level)?(i.from!=i.to&&(il=r),n):(i.from!=i.to&&(il=n),r);r=n}}return r}function uo(t,e,r,n){if(!n)return e+r;do e+=r;while(e>0&&ji(t.text.charAt(e)));return e}function co(t,e,r,n){var i=ni(t);if(!i)return fo(t,e,r,n);for(var o=so(i,e),a=i[o],l=uo(t,e,a.level%2?-r:r,n);;){if(l>a.from&&l<a.to)return l;if(l==a.from||l==a.to)return so(i,l)==o?l:(a=i[o+=r],r>0==a.level%2?a.to:a.from);if(a=i[o+=r],!a)return null;l=r>0==a.level%2?uo(t,a.to,-1,n):uo(t,a.from,1,n)}}function fo(t,e,r,n){var i=e+r;if(n)for(;i>0&&ji(t.text.charAt(i));)i+=r;return 0>i||i>t.text.length?null:i}var ho=navigator.userAgent,po=navigator.platform,vo=/gecko\/\d/i.test(ho),go=/MSIE \d/.test(ho),mo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ho),yo=go||mo,bo=yo&&(go?document.documentMode||6:mo[1]),wo=/WebKit\//.test(ho),xo=wo&&/Qt\/\d+\.\d+/.test(ho),Co=/Chrome\//.test(ho),_o=/Opera\//.test(ho),So=/Apple Computer/.test(navigator.vendor),ko=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ho),Lo=/PhantomJS/.test(ho),To=/AppleWebKit/.test(ho)&&/Mobile\/\w+/.test(ho),Mo=To||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ho),Oo=To||/Mac/.test(po),Ao=/win/i.test(po),No=_o&&ho.match(/Version\/(\d*\.\d*)/);No&&(No=Number(No[1])),No&&No>=15&&(_o=!1,wo=!0);var Wo=Oo&&(xo||_o&&(null==No||12.11>No)),Eo=vo||yo&&bo>=9,Do=!1,Io=!1;v.prototype=Hi({update:function(t){var e=t.scrollWidth>t.clientWidth+1,r=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var i=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(r?n:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&t.clientHeight>0&&(0==n&&this.overlayHack(),this.checkedOverlay=!0),{right:r?n:0,bottom:e?n:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t)},overlayHack:function(){var t=Oo&&!ko?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=t;var e=this,r=function(t){wi(t)!=e.vert&&wi(t)!=e.horiz&&Oe(e.cm,Ge)(t)};Ma(this.vert,"mousedown",r),Ma(this.horiz,"mousedown",r)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},v.prototype),g.prototype=Hi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),t.scrollbarModel={"native":v,"null":g},k.prototype.signal=function(t,e){Ti(t,e)&&this.events.push(arguments)},k.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Na.apply(null,this.events[t])};var Ho=t.Pos=function(t,e){return this instanceof Ho?(this.line=t,void(this.ch=e)):new Ho(t,e)},Ro=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Po=null;nt.prototype=Hi({init:function(t){function e(t){if(n.somethingSelected())Po=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=Po.join("\n"),Fa(o));else{if(!n.options.lineWiseCopyCut)return;var e=et(n);Po=e.text,"cut"==t.type?n.setSelections(e.ranges,null,Ia):(r.prevInput="",o.value=e.text.join("\n"),Fa(o))}"cut"==t.type&&(n.state.cutIncoming=!0)}var r=this,n=this.cm,i=this.wrapper=it(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),To&&(o.style.width="0px"),Ma(o,"input",function(){yo&&bo>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),Ma(o,"paste",function(t){return Q(t,n)?!0:(n.state.pasteIncoming=!0,void r.fastPoll())}),Ma(o,"cut",e),Ma(o,"copy",e),Ma(t.scroller,"paste",function(e){
Ue(t,e)||(n.state.pasteIncoming=!0,r.focus())}),Ma(t.lineSpace,"selectstart",function(e){Ue(t,e)||ka(e)}),Ma(o,"compositionstart",function(){var t=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Ma(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,r=t.doc,n=Dt(t);if(t.options.moveInputWithCursor){var i=he(t,r.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},showSelection:function(t){var e=this.cm,r=e.display;$i(r.cursorDiv,t.cursors),$i(r.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();e=el&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var a=e?"-":r||n.getSelection();this.textarea.value=a,n.state.focused&&Fa(this.textarea),yo&&bo>=9&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",yo&&bo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mo||Ui()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var n=r.poll();n||e?(r.pollingFast=!1,r.slowPoll()):(e=!0,r.polling.set(60,t))}var e=!1,r=this;r.pollingFast=!0,r.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||tl(e)&&!r&&!this.composing||Z(t)||t.options.disableInput||t.state.keySeq)return!1;var n=e.value;if(n==r&&!t.somethingSelected())return!1;if(yo&&bo>=9&&this.hasSelection===n||Oo&&/[\uf700-\uf7ff]/.test(n))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(r.length,n.length);a>o&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var l=this;return Me(t,function(){J(t,n.slice(o),r.length-o,null,l.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?e.value=l.prevInput="":l.prevInput=n,l.composing&&(l.composing.range.clear(),l.composing.range=t.markText(l.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){yo&&bo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=a.selectionStart){var t=i.somethingSelected(),e="​"+(t?a.value:"");a.value="⇚",a.value=e,n.prevInput=t?"":"​",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.position="relative",a.style.cssText=c,yo&&9>bo&&o.scrollbars.setScrollTop(o.scroller.scrollTop=s),null!=a.selectionStart){(!yo||yo&&9>bo)&&e();var t=0,r=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==n.prevInput?Oe(i,sa.selectAll)(i):t++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,a=n.textarea,l=Ve(i,t),s=o.scroller.scrollTop;if(l&&!_o){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(l)&&Oe(i,Tt)(i.doc,pt(l),Ia);var c=a.style.cssText;if(n.wrapper.style.position="absolute",a.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(yo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",wo)var f=window.scrollY;if(o.input.focus(),wo&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),yo&&bo>=9&&e(),Eo){Ta(t);var h=function(){Aa(window,"mouseup",h),setTimeout(r,20)};Ma(window,"mouseup",h)}else setTimeout(r,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Di,needsContentAttribute:!1},nt.prototype),ot.prototype=Hi({init:function(t){function e(t){if(n.somethingSelected())Po=n.getSelections(),"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=et(n);Po=e.text,"cut"==t.type&&n.operation(function(){n.setSelections(e.ranges,0,Ia),n.replaceSelection("",null,"cut")})}if(t.clipboardData&&!To)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Po.join("\n"));else{var r=it(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Po.join("\n");var o=document.activeElement;Fa(i),setTimeout(function(){n.display.lineSpace.removeChild(r),o.focus()},50)}}var r=this,n=r.cm,i=r.div=t.lineDiv;rt(i),Ma(i,"paste",function(t){Q(t,n)}),Ma(i,"compositionstart",function(t){var e=t.data;if(r.composing={sel:n.doc.sel,data:e,startData:e},e){var i=n.doc.sel.primary(),o=n.getLine(i.head.line),a=o.indexOf(e,Math.max(0,i.head.ch-e.length));a>-1&&a<=i.head.ch&&(r.composing.sel=pt(Ho(i.head.line,a),Ho(i.head.line,a+e.length)))}}),Ma(i,"compositionupdate",function(t){r.composing.data=t.data}),Ma(i,"compositionend",function(t){var e=r.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||r.applyComposition(e),r.composing==e&&(r.composing=null)},50))}),Ma(i,"touchstart",function(){r.forceCompositionEnd()}),Ma(i,"input",function(){r.composing||(Z(n)||!r.pollContent())&&Me(r.cm,function(){De(n)})}),Ma(i,"copy",e),Ma(i,"cut",e)},prepareSelection:function(){var t=Dt(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t){t&&this.cm.display.view.length&&(t.focus&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),r=st(this.cm,t.anchorNode,t.anchorOffset),n=st(this.cm,t.focusNode,t.focusOffset);if(!r||r.bad||!n||n.bad||0!=Ro(X(r,n),e.from())||0!=Ro(K(r,n),e.to())){var i=at(this.cm,e.from()),o=at(this.cm,e.to());if(i||o){var a=this.cm.display.view,l=t.rangeCount&&t.getRangeAt(0);if(i){if(!o){var s=a[a.length-1].measure,u=s.maps?s.maps[s.maps.length-1]:s.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=Ba(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(t.removeAllRanges(),t.addRange(c),l&&null==t.anchorNode?t.addRange(l):vo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){$i(this.cm.display.cursorDiv,t.cursors),$i(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Ga(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Me(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var r=st(e,t.anchorNode,t.anchorOffset),n=st(e,t.focusNode,t.focusOffset);r&&n&&Me(e,function(){Tt(e.doc,pt(r,n),Ia),(r.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<e.viewFrom||i.line>e.viewTo-1)return!1;var o;if(n.line==e.viewFrom||0==(o=Re(t,n.line)))var a=ti(e.view[0].line),l=e.view[0].node;else var a=ti(e.view[o].line),l=e.view[o-1].node.nextSibling;var s=Re(t,i.line);if(s==e.view.length-1)var u=e.viewTo-1,c=e.lineDiv.lastChild;else var u=ti(e.view[s+1].line)-1,c=e.view[s+1].node.previousSibling;for(var f=t.doc.splitLines(ct(t,l,c,a,u)),h=Zn(t.doc,Ho(a,0),Ho(u,Yn(t.doc,u).text.length));f.length>1&&h.length>1;)if(Ni(f)==Ni(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var d=0,p=0,v=f[0],g=h[0],m=Math.min(v.length,g.length);m>d&&v.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=Ni(f),b=Ni(h),w=Math.min(y.length-(1==f.length?d:0),b.length-(1==h.length?d:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;f[f.length-1]=y.slice(0,y.length-p),f[0]=f[0].slice(d);var x=Ho(a,d),C=Ho(u,h.length?Ni(h).length-p:0);return f.length>1||f[0]||Ro(x,C)?(Ar(t.doc,f,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){Z(this.cm)?Oe(this.cm,De)(this.cm):t.data&&t.data!=t.startData&&Oe(this.cm,J)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),Z(this.cm)||Oe(this.cm,J)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Di,resetPosition:Di,needsContentAttribute:!0},ot.prototype),t.inputStyles={textarea:nt,contenteditable:ot},ft.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var r=this.ranges[e],n=t.ranges[e];if(0!=Ro(r.anchor,n.anchor)||0!=Ro(r.head,n.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ht(q(this.ranges[e].anchor),q(this.ranges[e].head));return new ft(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Ro(e,n.from())>=0&&Ro(t,n.to())<=0)return r}return-1}},ht.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var zo,jo,Fo,Bo={left:0,right:0,top:0,bottom:0},$o=null,Uo=0,Vo=0,Go=0,qo=null;yo?qo=-.53:vo?qo=15:Co?qo=-.7:So&&(qo=-1/3);var Ko=function(t){var e=t.wheelDeltaX,r=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta),{x:e,y:r}};t.wheelEventPixels=function(t){var e=Ko(t);return e.x*=qo,e.y*=qo,e};var Xo=new Oi,Yo=null,Zo=t.changeEnd=function(t){return t.text?Ho(t.from.line+t.text.length-1,Ni(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var r=this.options,n=r[t];(r[t]!=e||"mode"==t)&&(r[t]=e,Qo.hasOwnProperty(t)&&Oe(this,Qo[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Vr(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||e[r].name==t)return e.splice(r,1),!0},addOverlay:Ae(function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:r&&r.opaque}),this.state.modeGen++,De(this)}),removeOverlay:Ae(function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var n=e[r].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(r,1),this.state.modeGen++,void De(this)}}),indentLine:Ae(function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),yt(this.doc,t)&&Pr(this,t,e,r)}),indentSelection:Ae(function(t){for(var e=this.doc.sel.ranges,r=-1,n=0;n<e.length;n++){var i=e[n];if(i.empty())i.head.line>r&&(Pr(this,i.head.line,t,!0),r=i.head.line,n==this.doc.sel.primIndex&&Hr(this));else{var o=i.from(),a=i.to(),l=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;r>s;++s)Pr(this,s,t);var u=this.doc.sel.ranges;0==o.ch&&e.length==u.length&&u[n].from().ch>0&&_t(this.doc,n,new ht(o,u[n].to()),Ia)}}}),getTokenAt:function(t,e){return Nn(this,t,e)},getLineTokens:function(t,e){return Nn(this,Ho(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,r=Dn(this,Yn(this.doc,t.line)),n=0,i=(r.length-1)/2,o=t.ch;if(0==o)e=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){e=r[2*a+2];break}n=a+1}}var l=e?e.indexOf("cm-overlay "):-1;return 0>l?e:0==l?null:e.slice(0,l-1)},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!oa.hasOwnProperty(e))return r;var n=oa[e],i=this.getModeAt(t);if("string"==typeof i[e])n[i[e]]&&r.push(n[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=n[i[e][o]];a&&r.push(a)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var l=n._global[o];l.pred(i,this)&&-1==Wi(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(t,e){var r=this.doc;return t=vt(r,null==t?r.first+r.size-1:t),Ft(this,t+1,e)},cursorCoords:function(t,e){var r,n=this.doc.sel.primary();return r=null==t?n.head:"object"==typeof t?gt(this.doc,t):t?n.from():n.to(),he(this,r,e||"page")},charCoords:function(t,e){return fe(this,gt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=ce(this,t,e||"page"),ve(this,t.left,t.top)},lineAtHeight:function(t,e){return t=ce(this,{top:t,left:0},e||"page").top,ei(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var r,n=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,n=!0),r=Yn(this.doc,t)}else r=t;return ue(this,r,{top:0,left:0},e||"page").top+(n?this.doc.height-ri(r):0)},defaultTextHeight:function(){return me(this.display)},defaultCharWidth:function(){return ye(this.display)},setGutterMarker:Ae(function(t,e,r){return zr(this.doc,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&zi(n)&&(t.gutterMarkers=null),!0})}),clearGutter:Ae(function(t){var e=this,r=e.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&(r.gutterMarkers[t]=null,Ie(e,n,"gutter"),zi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(t){if("number"==typeof t){if(!yt(this.doc,t))return null;var e=t;if(t=Yn(this.doc,t),!t)return null}else{var e=ti(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,r,n,i){var o=this.display;t=he(this,gt(this.doc,t));var a=t.bottom,l=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)a=t.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>s)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=s&&(a=t.bottom),l+e.offsetWidth>u&&(l=u-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(l=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=l+"px"),r&&Er(this,l,a,l+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:Ae(cr),triggerOnKeyPress:Ae(dr),triggerOnKeyUp:hr,execCommand:function(t){return sa.hasOwnProperty(t)?sa[t].call(null,this):void 0},triggerElectric:Ae(function(t){tt(this,t)}),findPosH:function(t,e,r,n){var i=1;0>e&&(i=-1,e=-e);for(var o=0,a=gt(this.doc,t);e>o&&(a=Fr(this.doc,a,i,r,n),!a.hitSide);++o);return a},moveH:Ae(function(t,e){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Fr(r.doc,n.head,t,e,r.options.rtlMoveVisually):0>t?n.from():n.to()},Ra)}),deleteH:Ae(function(t,e){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):jr(this,function(r){var i=Fr(n,r.head,t,e,!1);return 0>t?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(t,e,r,n){var i=1,o=n;0>e&&(i=-1,e=-e);for(var a=0,l=gt(this.doc,t);e>a;++a){var s=he(this,l,"div");if(null==o?o=s.left:s.left=o,l=Br(this,s,i,r),l.hitSide)break}return l},moveV:Ae(function(t,e){var r=this,n=this.doc,i=[],o=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(a){if(o)return 0>t?a.from():a.to();var l=he(r,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=Br(r,l,t,e);return"page"==e&&a==n.sel.primary()&&Ir(r,null,fe(r,s,"div").top-l.top),s},Ra),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,r=Yn(e,t.line).text,n=t.ch,i=t.ch;if(r){var o=this.getHelper(t,"wordChars");(t.xRel<0||i==r.length)&&n?--n:++i;for(var a=r.charAt(n),l=Pi(a,o)?function(t){return Pi(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Pi(t)};n>0&&l(r.charAt(n-1));)--n;for(;i<r.length&&l(r.charAt(i));)++i}return new ht(Ho(t.line,n),Ho(t.line,i))},toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ya(this.display.cursorDiv,"CodeMirror-overwrite"):Xa(this.display.cursorDiv,"CodeMirror-overwrite"),Na(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ui()},scrollTo:Ae(function(t,e){(null!=t||null!=e)&&Rr(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Vt(this)-this.display.barHeight,width:t.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:qt(this),clientWidth:Gt(this)}},scrollIntoView:Ae(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ho(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)Rr(this),this.curOp.scrollToPos=t;else{var r=Dr(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Ae(function(t,e){function r(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var n=this;null!=t&&(n.display.wrapper.style.width=r(t)),null!=e&&(n.display.wrapper.style.height=r(e)),n.options.lineWrapping&&oe(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Ie(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,Na(n,"refresh",this)}),operation:function(t){return Me(this,t)},refresh:Ae(function(){var t=this.display.cachedTextHeight;De(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==t||Math.abs(t-me(this.display))>.5)&&a(this),Na(this,"refresh",this)}),swapDoc:Ae(function(t){var e=this.doc;return e.cm=null,Xn(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,_i(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mi(t);var Jo=t.defaults={},Qo=t.optionHandlers={},ta=t.Init={toString:function(){return"CodeMirror.Init"}};$r("value","",function(t,e){t.setValue(e)},!0),$r("mode",null,function(t,e){t.doc.modeOption=e,r(t)},!0),$r("indentUnit",2,r,!0),$r("indentWithTabs",!1),$r("smartIndent",!0),$r("tabSize",4,function(t){n(t),ae(t),De(t)},!0),$r("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var r=[],n=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,r.push(Ho(n,o))}n++});for(var i=r.length-1;i>=0;i--)Ar(t.doc,e,r[i],Ho(r[i].line,r[i].ch+e.length))}}),$r("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,r,n){e.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),n!=t.Init&&e.refresh()}),$r("specialCharPlaceholder",Pn,function(t){t.refresh()},!0),$r("electricChars",!0),$r("inputStyle",Mo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),$r("rtlMoveVisually",!Ao),$r("wholeLineUpdateBefore",!0),$r("theme","default",function(t){l(t),s(t)},!0),$r("keyMap","default",function(e,r,n){var i=Vr(r),o=n!=t.Init&&Vr(n);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),$r("extraKeys",null),$r("lineWrapping",!1,i,!0),$r("gutters",[],function(t){d(t.options),s(t)},!0),$r("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?S(t.display)+"px":"0",t.refresh()},!0),$r("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),$r("scrollbarStyle","native",function(t){m(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),$r("lineNumbers",!1,function(t){d(t.options),s(t)},!0),$r("firstLineNumber",1,s,!0),$r("lineNumberFormatter",function(t){return t},s,!0),$r("showCursorWhenSelecting",!1,Et,!0),$r("resetSelectionOnContextMenu",!0),$r("lineWiseCopyCut",!0),$r("readOnly",!1,function(t,e){"nocursor"==e?(gr(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),$r("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),$r("dragDrop",!0,Be),$r("allowDropFileTypes",null),$r("cursorBlinkRate",530),$r("cursorScrollMargin",0),$r("cursorHeight",1,Et,!0),$r("singleCursorHeightPerLine",!0,Et,!0),$r("workTime",100),$r("workDelay",100),$r("flattenSpans",!0,n,!0),$r("addModeClass",!1,n,!0),$r("pollInterval",100),$r("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),$r("historyEventDelay",1250),$r("viewportMargin",10,function(t){t.refresh()},!0),$r("maxHighlightLength",1e4,n,!0),$r("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),$r("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),$r("autofocus",null);var ea=t.modes={},ra=t.mimeModes={};t.defineMode=function(e,r){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),ea[e]=r},t.defineMIME=function(t,e){ra[t]=e},t.resolveMode=function(e){if("string"==typeof e&&ra.hasOwnProperty(e))e=ra[e];else if(e&&"string"==typeof e.name&&ra.hasOwnProperty(e.name)){var r=ra[e.name];"string"==typeof r&&(r={name:r}),e=Ii(r,e),e.name=r.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,r){var r=t.resolveMode(r),n=ea[r.name];if(!n)return t.getMode(e,"text/plain");var i=n(e,r);if(na.hasOwnProperty(r.name)){var o=na[r.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var a in r.modeProps)i[a]=r.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var na=t.modeExtensions={};t.extendMode=function(t,e){var r=na.hasOwnProperty(t)?na[t]:na[t]={};Hi(e,r)},t.defineExtension=function(e,r){t.prototype[e]=r},t.defineDocExtension=function(t,e){Ca.prototype[t]=e},t.defineOption=$r;var ia=[];t.defineInitHook=function(t){ia.push(t)};var oa=t.helpers={};t.registerHelper=function(e,r,n){oa.hasOwnProperty(e)||(oa[e]=t[e]={_global:[]}),oa[e][r]=n},t.registerGlobalHelper=function(e,r,n,i){t.registerHelper(e,r,i),oa[e]._global.push({pred:n,val:i})};var aa=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},la=t.startState=function(t,e,r){return t.startState?t.startState(e,r):!0};t.innerMode=function(t,e){for(;t.innerMode;){var r=t.innerMode(e);if(!r||r.mode==t)break;e=r.state,t=r.mode}return r||{mode:t,state:e}};var sa=t.commands={selectAll:function(t){t.setSelection(Ho(t.firstLine(),0),Ho(t.lastLine()),Ia)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Ia)},killLine:function(t){jr(t,function(e){if(e.empty()){var r=Yn(t.doc,e.head.line).text.length;return e.head.ch==r&&e.head.line<t.lastLine()?{from:e.head,to:Ho(e.head.line+1,0)}:{from:e.head,to:Ho(e.head.line,r)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){jr(t,function(e){return{from:Ho(e.from().line,0),to:gt(t.doc,Ho(e.to().line+1,0))}})},delLineLeft:function(t){jr(t,function(t){return{from:Ho(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){jr(t,function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){jr(t,function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div");return{from:e.from(),to:n}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ho(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ho(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return io(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return ao(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return oo(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var r=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div")},Ra)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var r=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:r},"div")},Ra)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return n.ch<t.getLine(n.line).search(/\S/)?ao(t,e.head):n},Ra)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],r=t.listSelections(),n=t.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=Pa(t.getLine(o.line),o.ch,n);e.push(new Array(n-a%n+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Me(t,function(){for(var e=t.listSelections(),r=[],n=0;n<e.length;n++){var i=e[n].head,o=Yn(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Ho(i.line,i.ch-1)),i.ch>0)i=new Ho(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Ho(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Yn(t.doc,i.line-1).text;a&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),Ho(i.line-1,a.length-1),Ho(i.line,1),"+transpose")}r.push(new ht(i,i))}t.setSelections(r)})},newlineAndIndent:function(t){Me(t,function(){for(var e=t.listSelections().length,r=0;e>r;r++){var n=t.listSelections()[r];t.replaceRange(t.doc.lineSeparator(),n.anchor,n.head,"+input"),t.indentLine(n.from().line+1,null,!0)}Hr(t)})},toggleOverwrite:function(t){t.toggleOverwrite()}},ua=t.keyMap={};ua.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ua.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ua.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ua.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft",
"Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ua["default"]=Oo?ua.macDefault:ua.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete t[r];continue}for(var i=Ei(r.split(" "),Ur),o=0;o<i.length;o++){var a,l;o==i.length-1?(l=i.join(" "),a=n):(l=i.slice(0,o+1).join(" "),a="...");var s=e[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else e[l]=a}delete t[r]}for(var u in e)t[u]=e[u];return t};var ca=t.lookupKey=function(t,e,r,n){e=Vr(e);var i=e.call?e.call(t,n):e[t];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return ca(t,e.fallthrough,r,n);for(var o=0;o<e.fallthrough.length;o++){var a=ca(t,e.fallthrough[o],r,n);if(a)return a}}},fa=t.isModifierKey=function(t){var e="string"==typeof t?t:nl[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},ha=t.keyName=function(t,e){if(_o&&34==t.keyCode&&t["char"])return!1;var r=nl[t.keyCode],n=r;return null==n||t.altGraphKey?!1:(t.altKey&&"Alt"!=r&&(n="Alt-"+n),(Wo?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Wo?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};t.fromTextArea=function(e,r){function n(){e.value=u.getValue()}if(r=r?Hi(r):{},r.value=e.value,!r.tabindex&&e.tabIndex&&(r.tabindex=e.tabIndex),!r.placeholder&&e.placeholder&&(r.placeholder=e.placeholder),null==r.autofocus){var i=Ui();r.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Ma(e.form,"submit",n),!r.leaveSubmitMethodAlone)){var o=e.form,a=o.submit;try{var l=o.submit=function(){n(),o.submit=a,o.submit(),o.submit=l}}catch(s){}}r.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Aa(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=a))}},e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},r);return u};var da=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};da.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var r=e==t;else var r=e&&(t.test?t.test(e):t(e));return r?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Pa(this.string,null,this.tabSize)-(this.lineStart?Pa(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var i=function(t){return r?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var pa=0,va=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++pa};Mi(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&be(t),Ti(this,"clear")){var r=this.find();r&&_i(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=Jr(a.markedSpans,this);t&&!this.collapsed?Ie(t,ti(a),"text"):t&&(null!=l.to&&(i=ti(a)),null!=l.from&&(n=ti(a))),a.markedSpans=Qr(a.markedSpans,l),null==l.from&&this.collapsed&&!xn(this.doc,a)&&t&&Qn(a,me(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var s=mn(this.lines[o]),u=f(s);u>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&De(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&At(t.doc)),t&&_i(t,"markerCleared",t,this),e&&xe(t),this.parent&&this.parent.clear()}},va.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],a=Jr(o.markedSpans,this);if(null!=a.from&&(r=Ho(e?o:ti(o),a.from),-1==t))return r;if(null!=a.to&&(n=Ho(e?o:ti(o),a.to),1==t))return n}return r&&{from:r,to:n}},va.prototype.changed=function(){var t=this.find(-1,!0),e=this,r=this.doc.cm;t&&r&&Me(r,function(){var n=t.line,i=ti(t.line),o=Jt(r,i);if(o&&(ie(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!xn(e.doc,n)&&null!=e.height){var a=e.height;e.height=null;var l=Sn(e)-a;l&&Qn(n,n.height+l)}})},va.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Wi(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},va.prototype.detachLine=function(t){if(this.lines.splice(Wi(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var pa=0,ga=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=this};Mi(ga),ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();_i(this,"clear")}},ga.prototype.find=function(t,e){return this.primary.find(t,e)};var ma=t.LineWidget=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=t,this.node=e};Mi(ma),ma.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,r=this.line,n=ti(r);if(null!=n&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(r.widgets=null);var o=Sn(this);Qn(r,Math.max(0,r.height-o)),t&&Me(t,function(){_n(t,r,-o),Ie(t,n,"widget")})}},ma.prototype.changed=function(){var t=this.height,e=this.doc.cm,r=this.line;this.height=null;var n=Sn(this)-t;n&&(Qn(r,r.height+n),e&&Me(e,function(){e.curOp.forceUpdate=!0,_n(e,r,n)}))};var ya=t.Line=function(t,e,r){this.text=t,un(this,e),this.height=r?r(this):1};Mi(ya),ya.prototype.lineNo=function(){return ti(this)};var ba={},wa={};Gn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;n>r;++r){var i=this.lines[r];this.height-=i.height,Tn(i),_i(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;n>t;++t)if(r(this.lines[t]))return!0}},qn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>t){var o=Math.min(e,i-t),a=n.height;if(n.removeInner(t,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Gn))){var l=[];this.collapse(l),this.children=[new Gn(l)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>=t){if(i.insertInner(t,e,r),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),l=new Gn(a);i.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new qn(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=Wi(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var i=new qn(t.children);i.parent=t,t.children=[i,r],t=i}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>t){var a=Math.min(e,o-t);if(i.iterN(t,a,r))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var xa=0,Ca=t.Doc=function(t,e,r,n){if(!(this instanceof Ca))return new Ca(t,e,r,n);null==r&&(r=0),qn.call(this,[new Gn([new ya("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=Ho(r,0);this.sel=pt(i),this.history=new ii(null),this.id=++xa,this.modeOption=e,this.lineSep=n,"string"==typeof t&&(t=this.splitLines(t)),Vn(this,{from:i,to:i,text:t}),Tt(this,pt(i),Ia)};Ca.prototype=Ii(qn.prototype,{constructor:Ca,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0;n<e.length;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Jn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Ne(function(t){var e=Ho(this.first,0),r=this.first+this.size-1;Sr(this,{from:e,to:Ho(r,Yn(this,r).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,pt(e))}),replaceRange:function(t,e,r,n){e=gt(this,e),r=r?gt(this,r):e,Ar(this,t,e,r,n)},getRange:function(t,e,r){var n=Zn(this,gt(this,t),gt(this,e));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return yt(this,t)?Yn(this,t):void 0},getLineNumber:function(t){return ti(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Yn(this,t)),mn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return gt(this,t)},getCursor:function(t){var e,r=this.sel.primary();return e=null==t||"head"==t?r.head:"anchor"==t?r.anchor:"end"==t||"to"==t||t===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ne(function(t,e,r){St(this,gt(this,"number"==typeof t?Ho(t,e||0):t),null,r)}),setSelection:Ne(function(t,e,r){St(this,gt(this,t),gt(this,e||t),r)}),extendSelection:Ne(function(t,e,r){xt(this,gt(this,t),e&&gt(this,e),r)}),extendSelections:Ne(function(t,e){Ct(this,bt(this,t,e))}),extendSelectionsBy:Ne(function(t,e){Ct(this,Ei(this.sel.ranges,t),e)}),setSelections:Ne(function(t,e,r){if(t.length){for(var n=0,i=[];n<t.length;n++)i[n]=new ht(gt(this,t[n].anchor),gt(this,t[n].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,dt(i,e),r)}}),addSelection:Ne(function(t,e,r){var n=this.sel.ranges.slice(0);n.push(new ht(gt(this,t),gt(this,e||t))),Tt(this,dt(n,n.length-1),r)}),getSelection:function(t){for(var e,r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());e=e?e.concat(i):i}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());t!==!1&&(i=i.join(t||this.lineSeparator())),e[n]=i}return e},replaceSelection:function(t,e,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=t;this.replaceSelections(n,e,r||"+input")},replaceSelections:Ne(function(t,e,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:r}}for(var l=e&&"end"!=e&&Cr(this,n,e),o=n.length-1;o>=0;o--)Sr(this,n[o]);l?Lt(this,l):this.cm&&Hr(this.cm)}),undo:Ne(function(){Lr(this,"undo")}),redo:Ne(function(){Lr(this,"redo")}),undoSelection:Ne(function(){Lr(this,"undo",!0)}),redoSelection:Ne(function(){Lr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,r=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var n=0;n<t.undone.length;n++)t.undone[n].ranges||++r;return{undo:e,redo:r}},clearHistory:function(){this.history=new ii(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(t){var e=this.history=new ii(this.history.maxGeneration);e.done=vi(t.done.slice(0),null,!0),e.undone=vi(t.undone.slice(0),null,!0)},addLineClass:Ne(function(t,e,r){return zr(this,t,"gutter"==e?"gutter":"class",function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(Vi(r).test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0})}),removeLineClass:Ne(function(t,e,r){return zr(this,t,"gutter"==e?"gutter":"class",function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[n];if(!i)return!1;if(null==r)t[n]=null;else{var o=i.match(Vi(r));if(!o)return!1;var a=o.index+o[0].length;t[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Ne(function(t,e,r){return kn(this,t,e,r)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,r){return Gr(this,gt(this,t),gt(this,e),r,r&&r.type||"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=gt(this,t),Gr(this,t,t,r,"bookmark")},findMarksAt:function(t){t=gt(this,t);var e=[],r=Yn(this,t.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,r){t=gt(this,t),e=gt(this,e);var n=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];i==t.line&&t.ch>s.to||null==s.from&&i!=t.line||i==e.line&&s.from>e.ch||r&&!r(s.marker)||n.push(s.marker.parent||s.marker)}++i}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>t?(e=t,!0):(t-=i,void++r)}),gt(this,Ho(r,e))},indexFromPos:function(t){t=gt(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new Ca(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var n=new Ca(Jn(this,e,r),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Xr(n,Kr(this)),n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==e){this.linked.splice(r,1),e.unlinkDoc(this),Yr(Kr(this));break}}if(e.history==this.history){var i=[e.id];Kn(e,function(t){i.push(t.id)},!0),e.history=new ii(null),e.history.done=vi(this.history.done,i),e.history.undone=vi(this.history.undone,i)}},iterLinkedDocs:function(t){Kn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Qa(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Ca.prototype.eachLine=Ca.prototype.iter;var _a="iter insert remove copy getEditor constructor".split(" ");for(var Sa in Ca.prototype)Ca.prototype.hasOwnProperty(Sa)&&Wi(_a,Sa)<0&&(t.prototype[Sa]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ca.prototype[Sa]));Mi(Ca);var ka=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},La=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ta=t.e_stop=function(t){ka(t),La(t)},Ma=t.on=function(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={}),i=n[e]||(n[e]=[]);i.push(r)}},Oa=[],Aa=t.off=function(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else for(var n=Ci(t,e,!1),i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}},Na=t.signal=function(t,e){var r=Ci(t,e,!0);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},Wa=null,Ea=30,Da=t.Pass={toString:function(){return"CodeMirror.Pass"}},Ia={scroll:!1},Ha={origin:"*mouse"},Ra={origin:"+move"};Oi.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Pa=t.countColumn=function(t,e,r,n,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=n||0,a=i||0;;){var l=t.indexOf("	",o);if(0>l||l>=e)return a+(e-o);a+=l-o,a+=r-a%r,o=l+1}},za=t.findColumn=function(t,e,r){for(var n=0,i=0;;){var o=t.indexOf("	",n);-1==o&&(o=t.length);var a=o-n;if(o==t.length||i+a>=e)return n+Math.min(a,e-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=e)return n}},ja=[""],Fa=function(t){t.select()};To?Fa=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:yo&&(Fa=function(t){try{t.select()}catch(e){}});var Ba,$a=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ua=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||$a.test(t))},Va=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ba=document.createRange?function(t,e,r,n){var i=document.createRange();return i.setEnd(n||t,r),i.setStart(t,e),i}:function(t,e,r){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",e),n};var Ga=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};yo&&11>bo&&(Ui=function(){try{return document.activeElement}catch(t){return document.body}});var qa,Ka,Xa=t.rmClass=function(t,e){var r=t.className,n=Vi(e).exec(r);if(n){var i=r.slice(n.index+n[0].length);t.className=r.slice(0,n.index)+(i?n[1]+i:"")}},Ya=t.addClass=function(t,e){var r=t.className;Vi(e).test(r)||(t.className+=(r?" ":"")+e)},Za=!1,Ja=function(){if(yo&&9>bo)return!1;var t=Fi("div");return"draggable"in t||"dragDrop"in t}(),Qa=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;n>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),e+=a+1):(r.push(o),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)},tl=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(r){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},el=function(){var t=Fi("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),rl=null,nl=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;10>t;t++)nl[t+48]=nl[t+96]=String(t);for(var t=65;90>=t;t++)nl[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)nl[t+111]=nl[t+63235]="F"+t}();var il,ol=function(){function t(t){return 247>=t?r.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?n.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,r){this.level=t,this.from=e,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,l=/[Lb1n]/,s=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n,c=r.length,f=[],h=0;c>h;++h)f.push(n=t(r.charCodeAt(h)));for(var h=0,d=u;c>h;++h){var n=f[h];"m"==n?f[h]=d:d=n}for(var h=0,p=u;c>h;++h){var n=f[h];"1"==n&&"r"==p?f[h]="n":a.test(n)&&(p=n,"r"==n&&(f[h]="R"))}for(var h=1,d=f[0];c-1>h;++h){var n=f[h];"+"==n&&"1"==d&&"1"==f[h+1]?f[h]="1":","!=n||d!=f[h+1]||"1"!=d&&"n"!=d||(f[h]=d),d=n}for(var h=0;c>h;++h){var n=f[h];if(","==n)f[h]="N";else if("%"==n){for(var v=h+1;c>v&&"%"==f[v];++v);for(var g=h&&"!"==f[h-1]||c>v&&"1"==f[v]?"1":"N",m=h;v>m;++m)f[m]=g;h=v-1}}for(var h=0,p=u;c>h;++h){var n=f[h];"L"==p&&"1"==n?f[h]="L":a.test(n)&&(p=n)}for(var h=0;c>h;++h)if(o.test(f[h])){for(var v=h+1;c>v&&o.test(f[v]);++v);for(var y="L"==(h?f[h-1]:u),b="L"==(c>v?f[v]:u),g=y||b?"L":"R",m=h;v>m;++m)f[m]=g;h=v-1}for(var w,x=[],h=0;c>h;)if(l.test(f[h])){var C=h;for(++h;c>h&&l.test(f[h]);++h);x.push(new e(0,C,h))}else{var _=h,S=x.length;for(++h;c>h&&"L"!=f[h];++h);for(var m=_;h>m;)if(s.test(f[m])){m>_&&x.splice(S,0,new e(1,_,m));var k=m;for(++m;h>m&&s.test(f[m]);++m);x.splice(S,0,new e(2,k,m)),_=m}else++m;h>_&&x.splice(S,0,new e(1,_,h))}return 1==x[0].level&&(w=r.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new e(0,0,w[0].length))),1==Ni(x).level&&(w=r.match(/\s+$/))&&(Ni(x).to-=w[0].length,x.push(new e(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new e(1,x[0].to,x[0].to)),x[0].level!=Ni(x).level&&x.push(new e(x[0].level,c,c)),x}}();return t.version="5.8.0",t})},function(t,e,r){!function(t){t(r(1))}(function(t){"use strict";t.defineMode("javascript",function(e,r){function n(t){for(var e,r=!1,n=!1;null!=(e=t.next());){if(!r){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}r=!r&&"\\"==e}}function i(t,e,r){return bt=t,wt=r,e}function o(t,e){var r=t.next();if('"'==r||"'"==r)return e.tokenize=a(r),e.tokenize(t,e);if("."==r&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==r&&t.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("="==r&&t.eat(">"))return i("=>","operator");if("0"==r&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),i("number","number");if("0"==r&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),i("number","number");if("0"==r&&t.eat(/b/i))return t.eatWhile(/[01]/i),i("number","number");if(/\d/.test(r))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==r)return t.eat("*")?(e.tokenize=l,l(t,e)):t.eat("/")?(t.skipToEnd(),i("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||"sof"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(n(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(t.eatWhile(Mt),i("operator","operator",t.current()));if("`"==r)return e.tokenize=s,s(t,e);if("#"==r)return t.skipToEnd(),i("error","error");if(Mt.test(r))return t.eatWhile(Mt),i("operator","operator",t.current());if(Lt.test(r)){t.eatWhile(Lt);var o=t.current(),u=Tt.propertyIsEnumerable(o)&&Tt[o];return u&&"."!=e.lastType?i(u.type,u.style,o):i("variable","variable",o)}}function a(t){return function(e,r){var n,a=!1;if(_t&&"@"==e.peek()&&e.match(Ot))return r.tokenize=o,i("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||a);)a=!a&&"\\"==n;return a||(r.tokenize=o),i("string","string")}}function l(t,e){for(var r,n=!1;r=t.next();){if("/"==r&&n){e.tokenize=o;break}n="*"==r}return i("comment","comment")}function s(t,e){for(var r,n=!1;null!=(r=t.next());){if(!n&&("`"==r||"$"==r&&t.eat("{"))){e.tokenize=o;break}n=!n&&"\\"==r}return i("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var r=t.string.indexOf("=>",t.start);if(!(0>r)){for(var n=0,i=!1,o=r-1;o>=0;--o){var a=t.string.charAt(o),l=At.indexOf(a);if(l>=0&&3>l){if(!n){++o;break}if(0==--n)break}else if(l>=3&&6>l)++n;else if(Lt.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!n){++o;break}}}i&&!n&&(e.fatArrowAt=o)}}function c(t,e,r,n,i,o){this.indented=t,this.column=e,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function f(t,e){for(var r=t.localVars;r;r=r.next)if(r.name==e)return!0;for(var n=t.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==e)return!0}function h(t,e,r,n,i){var o=t.cc;for(Wt.state=t,Wt.stream=i,Wt.marked=null,Wt.cc=o,Wt.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():St?C:x;if(a(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Wt.marked?Wt.marked:"variable"==r&&f(t,n)?"variable-2":e}}}function d(){for(var t=arguments.length-1;t>=0;t--)Wt.cc.push(arguments[t])}function p(){return d.apply(null,arguments),!0}function v(t){function e(e){for(var r=e;r;r=r.next)if(r.name==t)return!0;return!1}var n=Wt.state;if(Wt.marked="def",n.context){if(e(n.localVars))return;n.localVars={name:t,next:n.localVars}}else{if(e(n.globalVars))return;r.globalVars&&(n.globalVars={name:t,next:n.globalVars})}}function g(){Wt.state.context={prev:Wt.state.context,vars:Wt.state.localVars},Wt.state.localVars=Et}function m(){Wt.state.localVars=Wt.state.context.vars,Wt.state.context=Wt.state.context.prev}function y(t,e){var r=function(){var r=Wt.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new c(n,Wt.stream.column(),t,null,r.lexical,e)};return r.lex=!0,r}function b(){var t=Wt.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function w(t){function e(r){return r==t?p():";"==t?d():p(e)}return e}function x(t,e){return"var"==t?p(y("vardef",e.length),q,w(";"),b):"keyword a"==t?p(y("form"),C,x,b):"keyword b"==t?p(y("form"),x,b):"{"==t?p(y("}"),$,b):";"==t?p():"if"==t?("else"==Wt.state.lexical.info&&Wt.state.cc[Wt.state.cc.length-1]==b&&Wt.state.cc.pop()(),p(y("form"),C,x,b,J)):"function"==t?p(it):"for"==t?p(y("form"),Q,x,b):"variable"==t?p(y("stat"),H):"switch"==t?p(y("form"),C,y("}","switch"),w("{"),$,b,b):"case"==t?p(C,w(":")):"default"==t?p(w(":")):"catch"==t?p(y("form"),g,w("("),ot,w(")"),x,b,m):"class"==t?p(y("form"),at,b):"export"==t?p(y("stat"),ct,b):"import"==t?p(y("stat"),ft,b):d(y("stat"),C,w(";"),b)}function C(t){return S(t,!1)}function _(t){return S(t,!0)}function S(t,e){if(Wt.state.fatArrowAt==Wt.stream.start){var r=e?W:N;if("("==t)return p(g,y(")"),F(K,")"),b,w("=>"),r,m);if("variable"==t)return d(g,K,w("=>"),r,m)}var n=e?M:T;return Nt.hasOwnProperty(t)?p(n):"async"==t?p(C):"function"==t?p(it,n):"keyword c"==t?p(e?L:k):"("==t?p(y(")"),k,mt,w(")"),b,n):"operator"==t||"spread"==t?p(e?_:C):"["==t?p(y("]"),vt,b,n):"{"==t?B(P,"}",null,n):"quasi"==t?d(O,n):"new"==t?p(E(e)):p()}function k(t){return t.match(/[;\}\)\],]/)?d():d(C)}function L(t){return t.match(/[;\}\)\],]/)?d():d(_)}function T(t,e){return","==t?p(C):M(t,e,!1)}function M(t,e,r){var n=0==r?T:M,i=0==r?C:_;return"=>"==t?p(g,r?W:N,m):"operator"==t?/\+\+|--/.test(e)?p(n):"?"==e?p(C,w(":"),i):p(i):"quasi"==t?d(O,n):";"!=t?"("==t?B(_,")","call",n):"."==t?p(R,n):"["==t?p(y("]"),k,w("]"),b,n):void 0:void 0}function O(t,e){return"quasi"!=t?d():"${"!=e.slice(e.length-2)?p(O):p(C,A)}function A(t){return"}"==t?(Wt.marked="string-2",Wt.state.tokenize=s,p(O)):void 0}function N(t){return u(Wt.stream,Wt.state),d("{"==t?x:C)}function W(t){return u(Wt.stream,Wt.state),d("{"==t?x:_)}function E(t){return function(e){return"."==e?p(t?I:D):d(t?_:C)}}function D(t,e){return"target"==e?(Wt.marked="keyword",p(T)):void 0}function I(t,e){return"target"==e?(Wt.marked="keyword",p(M)):void 0}function H(t){return":"==t?p(b,x):d(T,w(";"),b)}function R(t){return"variable"==t?(Wt.marked="property",p()):void 0}function P(t,e){return"async"==t?p(P):"variable"==t||"keyword"==Wt.style?(Wt.marked="property",
p("get"==e||"set"==e?z:j)):"number"==t||"string"==t?(Wt.marked=_t?"property":Wt.style+" property",p(j)):"jsonld-keyword"==t?p(j):"["==t?p(C,w("]"),j):void 0}function z(t){return"variable"!=t?d(j):(Wt.marked="property",p(it))}function j(t){return":"==t?p(_):"("==t?d(it):void 0}function F(t,e){function r(n){if(","==n){var i=Wt.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),p(t,r)}return n==e?p():p(w(e))}return function(n){return n==e?p():d(t,r)}}function B(t,e,r){for(var n=3;n<arguments.length;n++)Wt.cc.push(arguments[n]);return p(y(e,r),F(t,e),b)}function $(t){return"}"==t?p():d(x,$)}function U(t){return kt&&":"==t?p(G):void 0}function V(t,e){return"="==e?p(_):void 0}function G(t){return"variable"==t?(Wt.marked="variable-3",p()):void 0}function q(){return d(K,U,Y,Z)}function K(t,e){return"variable"==t?(v(e),p()):"spread"==t?p(K):"["==t?B(K,"]"):"{"==t?B(X,"}"):void 0}function X(t,e){return"variable"!=t||Wt.stream.match(/^\s*:/,!1)?("variable"==t&&(Wt.marked="property"),"spread"==t?p(K):p(w(":"),K,Y)):(v(e),p(Y))}function Y(t,e){return"="==e?p(_):void 0}function Z(t){return","==t?p(q):void 0}function J(t,e){return"keyword b"==t&&"else"==e?p(y("form","else"),x,b):void 0}function Q(t){return"("==t?p(y(")"),tt,w(")"),b):void 0}function tt(t){return"var"==t?p(q,w(";"),rt):";"==t?p(rt):"variable"==t?p(et):d(C,w(";"),rt)}function et(t,e){return"in"==e||"of"==e?(Wt.marked="keyword",p(C)):p(T,rt)}function rt(t,e){return";"==t?p(nt):"in"==e||"of"==e?(Wt.marked="keyword",p(C)):d(C,w(";"),nt)}function nt(t){")"!=t&&p(C)}function it(t,e){return"*"==e?(Wt.marked="keyword",p(it)):"variable"==t?(v(e),p(it)):"("==t?p(g,y(")"),F(ot,")"),b,x,m):void 0}function ot(t){return"spread"==t?p(ot):d(K,U,V)}function at(t,e){return"variable"==t?(v(e),p(lt)):void 0}function lt(t,e){return"extends"==e?p(C,lt):"{"==t?p(y("}"),st,b):void 0}function st(t,e){return"variable"==t||"keyword"==Wt.style?"static"==e?(Wt.marked="keyword",p(st)):(Wt.marked="property","get"==e||"set"==e?p(ut,it,st):p(it,st)):"*"==e?(Wt.marked="keyword",p(st)):";"==t?p(st):"}"==t?p():void 0}function ut(t){return"variable"!=t?d():(Wt.marked="property",p())}function ct(t,e){return"*"==e?(Wt.marked="keyword",p(pt,w(";"))):"default"==e?(Wt.marked="keyword",p(C,w(";"))):d(x)}function ft(t){return"string"==t?p():d(ht,pt)}function ht(t,e){return"{"==t?B(ht,"}"):("variable"==t&&v(e),"*"==e&&(Wt.marked="keyword"),p(dt))}function dt(t,e){return"as"==e?(Wt.marked="keyword",p(ht)):void 0}function pt(t,e){return"from"==e?(Wt.marked="keyword",p(C)):void 0}function vt(t){return"]"==t?p():d(_,gt)}function gt(t){return"for"==t?d(mt,w("]")):","==t?p(F(L,"]")):d(F(_,"]"))}function mt(t){return"for"==t?p(Q,mt):"if"==t?p(C,mt):void 0}function yt(t,e){return"operator"==t.lastType||","==t.lastType||Mt.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var bt,wt,xt=e.indentUnit,Ct=r.statementIndent,_t=r.jsonld,St=r.json||_t,kt=r.typescript,Lt=r.wordCharacters||/[\w$\xa1-\uffff]/,Tt=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),r=t("keyword b"),n=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"},a={"if":t("if"),"while":e,"with":e,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":t("new"),"delete":n,"throw":n,"debugger":n,"var":t("var"),"const":t("var"),let:t("var"),async:t("async"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),"class":t("class"),"super":t("atom"),await:n,"yield":n,"export":t("export"),"import":t("import"),"extends":n};if(kt){var l={type:"variable",style:"variable-3"},s={"interface":t("interface"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),string:l,number:l,"boolean":l,any:l};for(var u in s)a[u]=s[u]}return a}(),Mt=/[+\-*&%=<>!?|~^]/,Ot=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,At="([{}])",Nt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Wt={state:null,column:null,marked:null,cc:null},Et={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(t){var e={tokenize:o,lastType:"sof",cc:[],lexical:new c((t||0)-xt,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};return r.globalVars&&"object"==typeof r.globalVars&&(e.globalVars=r.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=l&&t.eatSpace())return null;var r=e.tokenize(t,e);return"comment"==bt?r:(e.lastType="operator"!=bt||"++"!=wt&&"--"!=wt?bt:"incdec",h(e,r,bt,wt,t))},indent:function(e,n){if(e.tokenize==l)return t.Pass;if(e.tokenize!=o)return 0;var i=n&&n.charAt(0),a=e.lexical;if(!/^\s*else\b/.test(n))for(var s=e.cc.length-1;s>=0;--s){var u=e.cc[s];if(u==b)a=a.prev;else if(u!=J)break}"stat"==a.type&&"}"==i&&(a=a.prev),Ct&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var c=a.type,f=i==c;return"vardef"==c?a.indented+("operator"==e.lastType||","==e.lastType?a.info+1:0):"form"==c&&"{"==i?a.indented:"form"==c?a.indented+xt:"stat"==c?a.indented+(yt(e,n)?Ct||xt:0):"switch"!=a.info||f||0==r.doubleIndentSwitch?a.align?a.column+(f?0:1):a.indented+(f?0:xt):a.indented+(/^(?:case|default)\b/.test(n)?xt:2*xt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:St?null:"/*",blockCommentEnd:St?null:"*/",lineComment:St?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:St?"json":"javascript",jsonldMode:_t,jsonMode:St}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(t,e){},function(t,e){},function(t,e){},function(t,e,r){var n=e;n.parse=function(){"use strict";var t,e,r,n,i={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},o=[" ","	","\r","\n","","\f"," ","\ufeff"],a=function(e){var n=new SyntaxError;throw n.message=e,n.at=t,n.text=r,n},l=function(n){return n&&n!==e&&a("Expected '"+n+"' instead of '"+e+"'"),e=r.charAt(t),t+=1,e},s=function(){return r.charAt(t)},u=function(){var t=e;for("_"!==e&&"$"!==e&&("a">e||e>"z")&&("A">e||e>"Z")&&a("Bad identifier");l()&&("_"===e||"$"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e);)t+=e;return t},c=function(){var t,r="",n="",i=10;if(("-"===e||"+"===e)&&(r=e,l(e)),"I"===e)return t=g(),("number"!=typeof t||isNaN(t))&&a("Unexpected word for number"),"-"===r?-t:t;if("N"===e)return t=g(),isNaN(t)||a("expected word to be NaN"),t;switch("0"===e&&(n+=e,l(),"x"===e||"X"===e?(n+=e,l(),i=16):e>="0"&&"9">=e&&a("Octal literal")),i){case 10:for(;e>="0"&&"9">=e;)n+=e,l();if("."===e)for(n+=".";l()&&e>="0"&&"9">=e;)n+=e;if("e"===e||"E"===e)for(n+=e,l(),("-"===e||"+"===e)&&(n+=e,l());e>="0"&&"9">=e;)n+=e,l();break;case 16:for(;e>="0"&&"9">=e||e>="A"&&"F">=e||e>="a"&&"f">=e;)n+=e,l()}return t="-"===r?-n:+n,isFinite(t)?t:void a("Bad number")},f=function(){var t,r,n,o,u="";if('"'===e||"'"===e)for(n=e;l();){if(e===n)return l(),u;if("\\"===e)if(l(),"u"===e){for(o=0,r=0;4>r&&(t=parseInt(l(),16),isFinite(t));r+=1)o=16*o+t;u+=String.fromCharCode(o)}else if("\r"===e)"\n"===s()&&l();else{if("string"!=typeof i[e])break;u+=i[e]}else{if("\n"===e)break;u+=e}}a("Bad string")},h=function(){"/"!==e&&a("Not an inline comment");do if(l(),"\n"===e||"\r"===e)return void l();while(e)},d=function(){"*"!==e&&a("Not a block comment");do for(l();"*"===e;)if(l("*"),"/"===e)return void l("/");while(e);a("Unterminated block comment")},p=function(){"/"!==e&&a("Not a comment"),l("/"),"/"===e?h():"*"===e?d():a("Unrecognized comment")},v=function(){for(;e;)if("/"===e)p();else{if(!(o.indexOf(e)>=0))return;l()}},g=function(){switch(e){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null;case"I":return l("I"),l("n"),l("f"),l("i"),l("n"),l("i"),l("t"),l("y"),1/0;case"N":return l("N"),l("a"),l("N"),NaN}a("Unexpected '"+e+"'")},m=function(){var t=[];if("["===e)for(l("["),v();e;){if("]"===e)return l("]"),t;if(","===e?a("Missing array element"):t.push(n()),v(),","!==e)return l("]"),t;l(","),v()}a("Bad array")},y=function(){var t,r={};if("{"===e)for(l("{"),v();e;){if("}"===e)return l("}"),r;if(t='"'===e||"'"===e?f():u(),v(),l(":"),r[t]=n(),v(),","!==e)return l("}"),r;l(","),v()}a("Bad object")};return n=function(){switch(v(),e){case"{":return y();case"[":return m();case'"':case"'":return f();case"-":case"+":case".":return c();default:return e>="0"&&"9">=e?c():g()}},function(i,o){var l;return r=String(i),t=0,e=" ",l=n(),v(),e&&a("Syntax error"),"function"==typeof o?function s(t,e){var r,n,i=t[e];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=s(i,r),void 0!==n?i[r]=n:delete i[r]);return o.call(t,e,i)}({"":l},""):l}}(),n.stringify=function(t,e,r){function i(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||t>="0"&&"9">=t||"_"===t||"$"===t}function o(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t}function a(t){if("string"!=typeof t)return!1;if(!o(t[0]))return!1;for(var e=1,r=t.length;r>e;){if(!i(t[e]))return!1;e++}return!0}function l(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"[object Date]"===Object.prototype.toString.call(t)}function u(t){for(var e=0;e<v.length;e++)if(v[e]===t)throw new TypeError("Converting circular structure to JSON")}function c(t,e,r){if(!t)return"";t.length>10&&(t=t.substring(0,10));for(var n=r?"":"\n",i=0;e>i;i++)n+=t;return n}function f(t){return g.lastIndex=0,g.test(t)?'"'+t.replace(g,function(t){var e=m[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function h(t,e,r){var n,i,o=d(t,e,r);switch(o&&!s(o)&&(o=o.valueOf()),typeof o){case"boolean":return o.toString();case"number":return isNaN(o)||!isFinite(o)?"null":o.toString();case"string":return f(o.toString());case"object":if(null===o)return"null";if(l(o)){u(o),n="[",v.push(o);for(var g=0;g<o.length;g++)i=h(o,g,!1),n+=c(p,v.length),n+=null===i||"undefined"==typeof i?"null":i,g<o.length-1?n+=",":p&&(n+="\n");v.pop(),n+=c(p,v.length,!0)+"]"}else{u(o),n="{";var m=!1;v.push(o);for(var y in o)if(o.hasOwnProperty(y)){var b=h(o,y,!1);if(r=!1,"undefined"!=typeof b&&null!==b){n+=c(p,v.length),m=!0;var e=a(y)?y:f(y);n+=e+":"+(p?" ":"")+b+","}}v.pop(),n=m?n.substring(0,n.length-1)+c(p,v.length)+"}":"{}"}return n;default:return void 0}}if(e&&"function"!=typeof e&&!l(e))throw new Error("Replacer must be a function or an array");var d=function(t,r,n){var i=t[r];return i&&i.toJSON&&"function"==typeof i.toJSON&&(i=i.toJSON()),"function"==typeof e?e.call(t,r,i):e?n||l(t)||e.indexOf(r)>=0?i:void 0:i};n.isWord=a,isNaN=isNaN||function(t){return"number"==typeof t&&t!==t};var p,v=[];r&&("string"==typeof r?p=r:"number"==typeof r&&r>=0&&(p=c(" ",r,!0)));var g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y={"":t};return void 0===t?d(y,"",!0):h(y,"",!0)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){var n;(function(t,i){(function(){function o(t,e){if(t!==e){var r=null===t,n=t===T,i=t===t,o=null===e,a=e===T,l=e===e;if(t>e&&!o||!i||r&&!a&&l||n&&l)return 1;if(e>t&&!r||!l||o&&!n&&i||a&&i)return-1}return 0}function a(t,e,r){for(var n=t.length,i=r?n:-1;r?i--:++i<n;)if(e(t[i],i,t))return i;return-1}function l(t,e,r){if(e!==e)return y(t,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function s(t){return"function"==typeof t||!1}function u(t){return null==t?"":t+""}function c(t,e){for(var r=-1,n=t.length;++r<n&&e.indexOf(t.charAt(r))>-1;);return r}function f(t,e){for(var r=t.length;r--&&e.indexOf(t.charAt(r))>-1;);return r}function h(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function d(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,l=i.length,s=r.length;++n<l;){var u=o(i[n],a[n]);if(u){if(n>=s)return u;var c=r[n];return u*("asc"===c||c===!0?1:-1)}}return t.index-e.index}function p(t){return Gt[t]}function v(t){return qt[t]}function g(t,e,r){return e?t=Yt[t]:r&&(t=Zt[t]),"\\"+t}function m(t){return"\\"+Zt[t]}function y(t,e,r){for(var n=t.length,i=e+(r?0:-1);r?i--:++i<n;){var o=t[i];if(o!==o)return i}return-1}function b(t){return!!t&&"object"==typeof t}function w(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function x(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;)t[r]===e&&(t[r]=G,o[++i]=r);return o}function C(t,e){for(var r,n=-1,i=t.length,o=-1,a=[];++n<i;){var l=t[n],s=e?e(l,n,t):l;n&&r===s||(r=s,a[++o]=l)}return a}function _(t){for(var e=-1,r=t.length;++e<r&&w(t.charCodeAt(e)););return e}function S(t){for(var e=t.length;e--&&w(t.charCodeAt(e)););return e}function k(t){return Kt[t]}function L(t){function e(t){if(b(t)&&!Ol(t)&&!(t instanceof i)){if(t instanceof n)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return dn(t)}return new n(t)}function r(){}function n(t,e,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ma,this.__views__=[]}function w(){var t=new i(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Q(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function nt(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ol(t),n=0>e,i=r?t.length:0,o=Vr(0,i,this.__views__),a=o.start,l=o.end,s=l-a,u=n?l:a-1,c=this.__iteratees__,f=c.length,h=0,d=_a(s,this.__takeCount__);if(!r||B>i||i==s&&d==s)return rr(n&&r?t.reverse():t,this.__actions__);var p=[];t:for(;s--&&d>h;){u+=e;for(var v=-1,g=t[u];++v<f;){var m=c[v],y=m.iteratee,b=m.type,w=y(g);if(b==U)g=w;else if(!w){if(b==$)continue t;break t}}p[h++]=g}return p}function ot(){this.__data__={}}function Gt(t){return this.has(t)&&delete this.__data__[t]}function qt(t){return"__proto__"==t?T:this.__data__[t]}function Kt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Xt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Yt(t){var e=t?t.length:0;for(this.data={hash:ma(null),set:new fa};e--;)this.push(t[e])}function Zt(t,e){var r=t.data,n="string"==typeof e||Di(e)?r.set.has(e):r.hash[e];return n?0:-1}function Jt(t){var e=this.data;"string"==typeof t||Di(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var r=-1,n=t.length,i=-1,o=e.length,a=Fo(n+o);++r<n;)a[r]=t[r];for(;++i<o;)a[r++]=e[i];return a}function te(t,e){var r=-1,n=t.length;for(e||(e=Fo(n));++r<n;)e[r]=t[r];return e}function ee(t,e){for(var r=-1,n=t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function re(t,e){for(var r=t.length;r--&&e(t[r],r,t)!==!1;);return t}function oe(t,e){for(var r=-1,n=t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function ae(t,e,r,n){for(var i=-1,o=t.length,a=n,l=a;++i<o;){var s=t[i],u=+e(s);r(u,a)&&(a=u,l=s)}return l}function le(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[++i]=a)}return o}function se(t,e){for(var r=-1,n=t.length,i=Fo(n);++r<n;)i[r]=e(t[r],r,t);return i}function ue(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function ce(t,e,r,n){var i=-1,o=t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function fe(t,e,r,n){var i=t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function he(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function de(t,e){for(var r=t.length,n=0;r--;)n+=+e(t[r])||0;return n}function pe(t,e){return t===T?e:t}function ve(t,e,r,n){return t!==T&&ea.call(n,r)?t:e}function ge(t,e,r){for(var n=-1,i=jl(e),o=i.length;++n<o;){var a=i[n],l=t[a],s=r(l,e[a],a,t,e);(s===s?s===l:l!==l)&&(l!==T||a in t)||(t[a]=s)}return t}function me(t,e){return null==e?t:be(e,jl(e),t)}function ye(t,e){for(var r=-1,n=null==t,i=!n&&Yr(t),o=i?t.length:0,a=e.length,l=Fo(a);++r<a;){var s=e[r];i?l[r]=Zr(s,o)?t[s]:T:l[r]=n?T:t[s]}return l}function be(t,e,r){r||(r={});for(var n=-1,i=e.length;++n<i;){var o=e[n];r[o]=t[o]}return r}function we(t,e,r){var n=typeof t;return"function"==n?e===T?t:or(t,e,r):null==t?Mo:"object"==n?ze(t):e===T?Do(t):je(t,e)}function xe(t,e,r,n,i,o,a){var l;if(r&&(l=i?r(t,n,i):r(t)),l!==T)return l;if(!Di(t))return t;var s=Ol(t);if(s){if(l=Gr(t),!e)return te(t,l)}else{var u=na.call(t),c=u==J;if(u!=et&&u!=q&&(!c||i))return Vt[u]?Kr(t,u,e):i?t:{};if(l=qr(c?{}:t),!e)return me(l,t)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(l),(s?ee:Ne)(t,function(n,i){l[i]=xe(n,e,r,i,t,o,a)}),l}function Ce(t,e,r){if("function"!=typeof t)throw new Yo(V);return ha(function(){t.apply(T,r)},e)}function _e(t,e){var r=t?t.length:0,n=[];if(!r)return n;var i=-1,o=Br(),a=o==l,s=a&&e.length>=B?pr(e):null,u=e.length;s&&(o=Zt,a=!1,e=s);t:for(;++i<r;){var c=t[i];if(a&&c===c){for(var f=u;f--;)if(e[f]===c)continue t;n.push(c)}else o(e,c,0)<0&&n.push(c)}return n}function Se(t,e){var r=!0;return Ha(t,function(t,n,i){return r=!!e(t,n,i)}),r}function ke(t,e,r,n){var i=n,o=i;return Ha(t,function(t,a,l){var s=+e(t,a,l);(r(s,i)||s===n&&s===o)&&(i=s,o=t)}),o}function Le(t,e,r,n){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),n=n===T||n>i?i:+n||0,0>n&&(n+=i),i=r>n?0:n>>>0,r>>>=0;i>r;)t[r++]=e;return t}function Te(t,e){var r=[];return Ha(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Me(t,e,r,n){var i;return r(t,function(t,r,o){return e(t,r,o)?(i=n?r:t,!1):void 0}),i}function Oe(t,e,r,n){n||(n=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];b(a)&&Yr(a)&&(r||Ol(a)||ki(a))?e?Oe(a,e,r,n):ue(n,a):r||(n[n.length]=a)}return n}function Ae(t,e){return Pa(t,e,to)}function Ne(t,e){return Pa(t,e,jl)}function We(t,e){return za(t,e,jl)}function Ee(t,e){for(var r=-1,n=e.length,i=-1,o=[];++r<n;){var a=e[r];Ei(t[a])&&(o[++i]=a)}return o}function De(t,e,r){if(null!=t){r!==T&&r in fn(t)&&(e=[r]);for(var n=0,i=e.length;null!=t&&i>n;)t=t[e[n++]];return n&&n==i?t:T}}function Ie(t,e,r,n,i,o){return t===e?!0:null==t||null==e||!Di(t)&&!b(e)?t!==t&&e!==e:He(t,e,Ie,r,n,i,o)}function He(t,e,r,n,i,o,a){var l=Ol(t),s=Ol(e),u=K,c=K;l||(u=na.call(t),u==q?u=et:u!=et&&(l=$i(t))),s||(c=na.call(e),c==q?c=et:c!=et&&(s=$i(e)));var f=u==et,h=c==et,d=u==c;if(d&&!l&&!f)return Pr(t,e,u);if(!i){var p=f&&ea.call(t,"__wrapped__"),v=h&&ea.call(e,"__wrapped__");if(p||v)return r(p?t.value():t,v?e.value():e,n,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var m=(l?Rr:zr)(t,e,r,n,i,o,a);return o.pop(),a.pop(),m}function Re(t,e,r){var n=e.length,i=n,o=!r;if(null==t)return!i;for(t=fn(t);n--;){var a=e[n];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<i;){a=e[n];var l=a[0],s=t[l],u=a[1];if(o&&a[2]){if(s===T&&!(l in t))return!1}else{var c=r?r(s,u,l):T;if(!(c===T?Ie(u,s,r,!0):c))return!1}}return!0}function Pe(t,e){var r=-1,n=Yr(t)?Fo(t.length):[];return Ha(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function ze(t){var e=$r(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null==t?!1:t[r]===n&&(n!==T||r in fn(t))}}return function(t){return Re(t,e)}}function je(t,e){var r=Ol(t),n=Qr(t)&&rn(e),i=t+"";return t=hn(t),function(o){if(null==o)return!1;var a=i;if(o=fn(o),(r||!n)&&!(a in o)){if(o=1==t.length?o:De(o,Ke(t,0,-1)),null==o)return!1;a=Ln(t),o=fn(o)}return o[a]===e?e!==T||a in o:Ie(e,o[a],T,!0)}}function Fe(t,e,r,n,i){if(!Di(t))return t;var o=Yr(e)&&(Ol(e)||$i(e)),a=o?T:jl(e);return ee(a||e,function(l,s){if(a&&(s=l,l=e[s]),b(l))n||(n=[]),i||(i=[]),Be(t,e,s,Fe,r,n,i);else{var u=t[s],c=r?r(u,l,s,t,e):T,f=c===T;f&&(c=l),c===T&&(!o||s in t)||!f&&(c===c?c===u:u!==u)||(t[s]=c)}}),t}function Be(t,e,r,n,i,o,a){for(var l=o.length,s=e[r];l--;)if(o[l]==s)return void(t[r]=a[l]);var u=t[r],c=i?i(u,s,r,t,e):T,f=c===T;f&&(c=s,Yr(s)&&(Ol(s)||$i(s))?c=Ol(u)?u:Yr(u)?te(u):[]:ji(s)||ki(s)?c=ki(u)?Ki(u):ji(u)?u:{}:f=!1),o.push(s),a.push(c),f?t[r]=n(c,s,i,o,a):(c===c?c!==u:u===u)&&(t[r]=c)}function $e(t){return function(e){return null==e?T:e[t]}}function Ue(t){var e=t+"";return t=hn(t),function(r){return De(r,t,e)}}function Ve(t,e){for(var r=t?e.length:0;r--;){var n=e[r];if(n!=i&&Zr(n)){var i=n;da.call(t,n,1)}}return t}function Ge(t,e){return t+ya(La()*(e-t+1))}function qe(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function Ke(t,e,r){var n=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),r=r===T||r>i?i:+r||0,0>r&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Fo(i);++n<i;)o[n]=t[n+e];return o}function Xe(t,e){var r;return Ha(t,function(t,n,i){return r=e(t,n,i),!r}),!!r}function Ye(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function Ze(t,e,r){var n=jr(),i=-1;e=se(e,function(t){return n(t)});var o=Pe(t,function(t){var r=se(e,function(e){return e(t)});return{criteria:r,index:++i,value:t}});return Ye(o,function(t,e){return d(t,e,r)})}function Je(t,e){var r=0;return Ha(t,function(t,n,i){r+=+e(t,n,i)||0}),r}function Qe(t,e){var r=-1,n=Br(),i=t.length,o=n==l,a=o&&i>=B,s=a?pr():null,u=[];s?(n=Zt,o=!1):(a=!1,s=e?[]:u);t:for(;++r<i;){var c=t[r],f=e?e(c,r,t):c;if(o&&c===c){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(c)}else n(s,f,0)<0&&((e||a)&&s.push(f),u.push(c))}return u}function tr(t,e){for(var r=-1,n=e.length,i=Fo(n);++r<n;)i[r]=t[e[r]];return i}function er(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ke(t,n?0:o,n?o+1:i):Ke(t,n?o+1:0,n?i:o)}function rr(t,e){var r=t;r instanceof i&&(r=r.value());for(var n=-1,o=e.length;++n<o;){var a=e[n];r=a.func.apply(a.thisArg,ue([r],a.args))}return r}function nr(t,e,r){var n=0,i=t?t.length:n;if("number"==typeof e&&e===e&&Na>=i){for(;i>n;){var o=n+i>>>1,a=t[o];(r?e>=a:e>a)&&null!==a?n=o+1:i=o}return i}return ir(t,e,Mo,r)}function ir(t,e,r,n){e=r(e);for(var i=0,o=t?t.length:0,a=e!==e,l=null===e,s=e===T;o>i;){var u=ya((i+o)/2),c=r(t[u]),f=c!==T,h=c===c;if(a)var d=h||n;else d=l?h&&f&&(n||null!=c):s?h&&(n||f):null==c?!1:n?e>=c:e>c;d?i=u+1:o=u}return _a(o,Aa)}function or(t,e,r){if("function"!=typeof t)return Mo;if(e===T)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)};case 5:return function(r,n,i,o,a){return t.call(e,r,n,i,o,a)}}return function(){return t.apply(e,arguments)}}function ar(t){var e=new aa(t.byteLength),r=new pa(e);return r.set(new pa(t)),e}function lr(t,e,r){for(var n=r.length,i=-1,o=Ca(t.length-n,0),a=-1,l=e.length,s=Fo(l+o);++a<l;)s[a]=e[a];for(;++i<n;)s[r[i]]=t[i];for(;o--;)s[a++]=t[i++];return s}function sr(t,e,r){for(var n=-1,i=r.length,o=-1,a=Ca(t.length-i,0),l=-1,s=e.length,u=Fo(a+s);++o<a;)u[o]=t[o];for(var c=o;++l<s;)u[c+l]=e[l];for(;++n<i;)u[c+r[n]]=t[o++];return u}function ur(t,e){return function(r,n,i){var o=e?e():{};if(n=jr(n,i,3),Ol(r))for(var a=-1,l=r.length;++a<l;){var s=r[a];t(o,s,n(s,a,r),r)}else Ha(r,function(e,r,i){t(o,e,n(e,r,i),i)});return o}}function cr(t){return mi(function(e,r){var n=-1,i=null==e?0:r.length,o=i>2?r[i-2]:T,a=i>2?r[2]:T,l=i>1?r[i-1]:T;for("function"==typeof o?(o=or(o,l,5),i-=2):(o="function"==typeof l?l:T,i-=o?1:0),a&&Jr(r[0],r[1],a)&&(o=3>i?T:o,i=1);++n<i;){var s=r[n];s&&t(e,s,o)}return e})}function fr(t,e){return function(r,n){var i=r?Ba(r):0;if(!en(i))return t(r,n);for(var o=e?i:-1,a=fn(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}function hr(t){return function(e,r,n){for(var i=fn(e),o=n(e),a=o.length,l=t?a:-1;t?l--:++l<a;){var s=o[l];if(r(i[s],s,i)===!1)break}return e}}function dr(t,e){function r(){var i=this&&this!==ne&&this instanceof r?n:t;return i.apply(e,arguments)}var n=gr(t);return r}function pr(t){return ma&&fa?new Yt(t):null}function vr(t){return function(e){for(var r=-1,n=ko(co(e)),i=n.length,o="";++r<i;)o=t(o,n[r],r);return o}}function gr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Ia(t.prototype),n=t.apply(r,e);return Di(n)?n:r}}function mr(t){function e(r,n,i){i&&Jr(r,n,i)&&(n=T);var o=Hr(r,t,T,T,T,T,T,n);return o.placeholder=e.placeholder,o}return e}function yr(t,e){return mi(function(r){var n=r[0];return null==n?n:(r.push(e),t.apply(T,r))})}function br(t,e){return function(r,n,i){if(i&&Jr(r,n,i)&&(n=T),n=jr(n,i,3),1==n.length){r=Ol(r)?r:cn(r);var o=ae(r,n,t,e);if(!r.length||o!==e)return o}return ke(r,n,t,e)}}function wr(t,e){return function(r,n,i){if(n=jr(n,i,3),Ol(r)){var o=a(r,n,e);return o>-1?r[o]:T}return Me(r,n,t)}}function xr(t){return function(e,r,n){return e&&e.length?(r=jr(r,n,3),a(e,r,t)):-1}}function Cr(t){return function(e,r,n){return r=jr(r,n,3),Me(e,r,t,!0)}}function _r(t){return function(){for(var e,r=arguments.length,i=t?r:-1,o=0,a=Fo(r);t?i--:++i<r;){var l=a[o++]=arguments[i];if("function"!=typeof l)throw new Yo(V);!e&&n.prototype.thru&&"wrapper"==Fr(l)&&(e=new n([],!0))}for(i=e?-1:r;++i<r;){l=a[i];var s=Fr(l),u="wrapper"==s?Fa(l):T;e=u&&tn(u[0])&&u[1]==(H|W|D|R)&&!u[4].length&&1==u[9]?e[Fr(u[0])].apply(e,u[3]):1==l.length&&tn(l)?e[s]():e.thru(l)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Ol(n)&&n.length>=B)return e.plant(n).value();for(var i=0,o=r?a[i].apply(this,t):n;++i<r;)o=a[i].call(this,o);return o}}}function Sr(t,e){return function(r,n,i){return"function"==typeof n&&i===T&&Ol(r)?t(r,n):e(r,or(n,i,3))}}function kr(t){return function(e,r,n){return("function"!=typeof r||n!==T)&&(r=or(r,n,3)),t(e,r,to)}}function Lr(t){return function(e,r,n){return("function"!=typeof r||n!==T)&&(r=or(r,n,3)),t(e,r)}}function Tr(t){return function(e,r,n){var i={};return r=jr(r,n,3),Ne(e,function(e,n,o){var a=r(e,n,o);n=t?a:n,e=t?e:a,i[n]=e}),i}}function Mr(t){return function(e,r,n){return e=u(e),(t?e:"")+Wr(e,r,n)+(t?"":e)}}function Or(t){var e=mi(function(r,n){var i=x(n,e.placeholder);return Hr(r,t,T,n,i)});return e}function Ar(t,e){return function(r,n,i,o){var a=arguments.length<3;return"function"==typeof n&&o===T&&Ol(r)?t(r,n,i,a):qe(r,jr(n,o,4),i,a,e)}}function Nr(t,e,r,n,i,o,a,l,s,u){function c(){for(var y=arguments.length,b=y,w=Fo(y);b--;)w[b]=arguments[b];if(n&&(w=lr(w,n,i)),o&&(w=sr(w,o,a)),p||g){var C=c.placeholder,_=x(w,C);if(y-=_.length,u>y){var S=l?te(l):T,k=Ca(u-y,0),L=p?_:T,M=p?T:_,N=p?w:T,W=p?T:w;e|=p?D:I,e&=~(p?I:D),v||(e&=~(O|A));var E=[t,e,r,N,L,W,M,S,s,k],H=Nr.apply(T,E);return tn(t)&&$a(H,E),H.placeholder=C,H}}var R=h?r:this,P=d?R[t]:t;return l&&(w=sn(w,l)),f&&s<w.length&&(w.length=s),this&&this!==ne&&this instanceof c&&(P=m||gr(t)),P.apply(R,w)}var f=e&H,h=e&O,d=e&A,p=e&W,v=e&N,g=e&E,m=d?T:gr(t);return c}function Wr(t,e,r){var n=t.length;if(e=+e,n>=e||!wa(e))return"";var i=e-n;return r=null==r?" ":r+"",mo(r,ga(i/r.length)).slice(0,i)}function Er(t,e,r,n){function i(){for(var e=-1,l=arguments.length,s=-1,u=n.length,c=Fo(u+l);++s<u;)c[s]=n[s];for(;l--;)c[s++]=arguments[++e];var f=this&&this!==ne&&this instanceof i?a:t;return f.apply(o?r:this,c)}var o=e&O,a=gr(t);return i}function Dr(t){var e=Vo[t];return function(t,r){return r=r===T?0:+r||0,r?(r=ua(10,r),e(t*r)/r):e(t)}}function Ir(t){return function(e,r,n,i){var o=jr(n);return null==n&&o===we?nr(e,r,t):ir(e,r,o(n,i,1),t)}}function Hr(t,e,r,n,i,o,a,l){var s=e&A;if(!s&&"function"!=typeof t)throw new Yo(V);var u=n?n.length:0;if(u||(e&=~(D|I),n=i=T),u-=i?i.length:0,e&I){var c=n,f=i;n=i=T}var h=s?T:Fa(t),d=[t,e,r,n,i,c,f,o,a,l];if(h&&(nn(d,h),e=d[1],l=d[9]),d[9]=null==l?s?0:t.length:Ca(l-u,0)||0,e==O)var p=dr(d[0],d[2]);else p=e!=D&&e!=(O|D)||d[4].length?Nr.apply(T,d):Er.apply(T,d);var v=h?ja:$a;return v(p,d)}function Rr(t,e,r,n,i,o,a){var l=-1,s=t.length,u=e.length;if(s!=u&&!(i&&u>s))return!1;for(;++l<s;){var c=t[l],f=e[l],h=n?n(i?f:c,i?c:f,l):T;if(h!==T){if(h)continue;return!1}if(i){if(!he(e,function(t){return c===t||r(c,t,n,i,o,a)}))return!1}else if(c!==f&&!r(c,f,n,i,o,a))return!1}return!0}function Pr(t,e,r){switch(r){case X:case Y:return+t==+e;case Z:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case rt:case it:return t==e+""}return!1}function zr(t,e,r,n,i,o,a){var l=jl(t),s=l.length,u=jl(e),c=u.length;if(s!=c&&!i)return!1;for(var f=s;f--;){var h=l[f];if(!(i?h in e:ea.call(e,h)))return!1}for(var d=i;++f<s;){h=l[f];var p=t[h],v=e[h],g=n?n(i?v:p,i?p:v,h):T;if(!(g===T?r(p,v,n,i,o,a):g))return!1;d||(d="constructor"==h)}if(!d){var m=t.constructor,y=e.constructor;if(m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function jr(t,r,n){var i=e.callback||Lo;return i=i===Lo?we:i,n?i(t,r,n):i}function Fr(t){for(var e=t.name,r=Da[e],n=r?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Br(t,r,n){var i=e.indexOf||Sn;return i=i===Sn?l:i,t?i(t,r,n):i}function $r(t){for(var e=eo(t),r=e.length;r--;)e[r][2]=rn(e[r][1]);return e}function Ur(t,e){var r=null==t?T:t[e];return Ri(r)?r:T}function Vr(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_a(e,t+a);break;case"takeRight":t=Ca(t,e-a)}}return{start:t,end:e}}function Gr(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function qr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=qo),new e}function Kr(t,e,r){var n=t.constructor;switch(e){case at:return ar(t);case X:case Y:return new n(+t);case lt:case st:case ut:case ct:case ft:case ht:case dt:case pt:case vt:var i=t.buffer;return new n(r?ar(i):i,t.byteOffset,t.length);case tt:case it:return new n(t);case rt:var o=new n(t.source,Dt.exec(t));o.lastIndex=t.lastIndex}return o}function Xr(t,e,r){null==t||Qr(e,t)||(e=hn(e),t=1==e.length?t:De(t,Ke(e,0,-1)),e=Ln(e));var n=null==t?t:t[e];return null==n?T:n.apply(t,r)}function Yr(t){return null!=t&&en(Ba(t))}function Zr(t,e){return t="number"==typeof t||Rt.test(t)?+t:-1,e=null==e?Wa:e,t>-1&&t%1==0&&e>t}function Jr(t,e,r){if(!Di(r))return!1;var n=typeof e;if("number"==n?Yr(r)&&Zr(e,r.length):"string"==n&&e in r){var i=r[e];return t===t?t===i:i!==i}return!1}function Qr(t,e){var r=typeof t;if("string"==r&&Tt.test(t)||"number"==r)return!0;if(Ol(t))return!1;var n=!Lt.test(t);return n||null!=e&&t in fn(e)}function tn(t){var r=Fr(t);if(!(r in i.prototype))return!1;var n=e[r];if(t===n)return!0;var o=Fa(n);return!!o&&t===o[0]}function en(t){return"number"==typeof t&&t>-1&&t%1==0&&Wa>=t}function rn(t){return t===t&&!Di(t)}function nn(t,e){var r=t[1],n=e[1],i=r|n,o=H>i,a=n==H&&r==W||n==H&&r==R&&t[7].length<=e[8]||n==(H|R)&&r==W;if(!o&&!a)return t;n&O&&(t[2]=e[2],i|=r&O?0:N);var l=e[3];if(l){var s=t[3];t[3]=s?lr(s,l,e[4]):te(l),t[4]=s?x(t[3],G):te(e[4])}return l=e[5],l&&(s=t[5],t[5]=s?sr(s,l,e[6]):te(l),
t[6]=s?x(t[5],G):te(e[6])),l=e[7],l&&(t[7]=te(l)),n&H&&(t[8]=null==t[8]?e[8]:_a(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function on(t,e){return t===T?e:Al(t,e,on)}function an(t,e){t=fn(t);for(var r=-1,n=e.length,i={};++r<n;){var o=e[r];o in t&&(i[o]=t[o])}return i}function ln(t,e){var r={};return Ae(t,function(t,n,i){e(t,n,i)&&(r[n]=t)}),r}function sn(t,e){for(var r=t.length,n=_a(e.length,r),i=te(t);n--;){var o=e[n];t[n]=Zr(o,r)?i[o]:T}return t}function un(t){for(var e=to(t),r=e.length,n=r&&t.length,i=!!n&&en(n)&&(Ol(t)||ki(t)),o=-1,a=[];++o<r;){var l=e[o];(i&&Zr(l,n)||ea.call(t,l))&&a.push(l)}return a}function cn(t){return null==t?[]:Yr(t)?Di(t)?t:qo(t):oo(t)}function fn(t){return Di(t)?t:qo(t)}function hn(t){if(Ol(t))return t;var e=[];return u(t).replace(Mt,function(t,r,n,i){e.push(n?i.replace(Wt,"$1"):r||t)}),e}function dn(t){return t instanceof i?t.clone():new n(t.__wrapped__,t.__chain__,te(t.__actions__))}function pn(t,e,r){e=(r?Jr(t,e,r):null==e)?1:Ca(ya(e)||1,1);for(var n=0,i=t?t.length:0,o=-1,a=Fo(ga(i/e));i>n;)a[++o]=Ke(t,n,n+=e);return a}function vn(t){for(var e=-1,r=t?t.length:0,n=-1,i=[];++e<r;){var o=t[e];o&&(i[++n]=o)}return i}function gn(t,e,r){var n=t?t.length:0;return n?((r?Jr(t,e,r):null==e)&&(e=1),Ke(t,0>e?0:e)):[]}function mn(t,e,r){var n=t?t.length:0;return n?((r?Jr(t,e,r):null==e)&&(e=1),e=n-(+e||0),Ke(t,0,0>e?0:e)):[]}function yn(t,e,r){return t&&t.length?er(t,jr(e,r,3),!0,!0):[]}function bn(t,e,r){return t&&t.length?er(t,jr(e,r,3),!0):[]}function wn(t,e,r,n){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&Jr(t,e,r)&&(r=0,n=i),Le(t,e,r,n)):[]}function xn(t){return t?t[0]:T}function Cn(t,e,r){var n=t?t.length:0;return r&&Jr(t,e,r)&&(e=!1),n?Oe(t,e):[]}function _n(t){var e=t?t.length:0;return e?Oe(t,!0):[]}function Sn(t,e,r){var n=t?t.length:0;if(!n)return-1;if("number"==typeof r)r=0>r?Ca(n+r,0):r;else if(r){var i=nr(t,e);return n>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return l(t,e,r||0)}function kn(t){return mn(t,1)}function Ln(t){var e=t?t.length:0;return e?t[e-1]:T}function Tn(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(0>r?Ca(n+r,0):_a(r||0,n-1))+1;else if(r){i=nr(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Mn(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var r=0,n=Br(),i=t.length;++r<i;)for(var o=0,a=t[r];(o=n(e,a,o))>-1;)da.call(e,o,1);return e}function On(t,e,r){var n=[];if(!t||!t.length)return n;var i=-1,o=[],a=t.length;for(e=jr(e,r,3);++i<a;){var l=t[i];e(l,i,t)&&(n.push(l),o.push(i))}return Ve(t,o),n}function An(t){return gn(t,1)}function Nn(t,e,r){var n=t?t.length:0;return n?(r&&"number"!=typeof r&&Jr(t,e,r)&&(e=0,r=n),Ke(t,e,r)):[]}function Wn(t,e,r){var n=t?t.length:0;return n?((r?Jr(t,e,r):null==e)&&(e=1),Ke(t,0,0>e?0:e)):[]}function En(t,e,r){var n=t?t.length:0;return n?((r?Jr(t,e,r):null==e)&&(e=1),e=n-(+e||0),Ke(t,0>e?0:e)):[]}function Dn(t,e,r){return t&&t.length?er(t,jr(e,r,3),!1,!0):[]}function In(t,e,r){return t&&t.length?er(t,jr(e,r,3)):[]}function Hn(t,e,r,n){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(n=r,r=Jr(t,e,n)?T:e,e=!1);var o=jr();return(null!=r||o!==we)&&(r=o(r,n,3)),e&&Br()==l?C(t,r):Qe(t,r)}function Rn(t){if(!t||!t.length)return[];var e=-1,r=0;t=le(t,function(t){return Yr(t)?(r=Ca(t.length,r),!0):void 0});for(var n=Fo(r);++e<r;)n[e]=se(t,$e(e));return n}function Pn(t,e,r){var n=t?t.length:0;if(!n)return[];var i=Rn(t);return null==e?i:(e=or(e,r,4),se(i,function(t){return ce(t,e,T,!0)}))}function zn(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(Yr(r))var n=n?ue(_e(n,r),_e(r,n)):r}return n?Qe(n):[]}function jn(t,e){var r=-1,n=t?t.length:0,i={};for(!n||e||Ol(t[0])||(e=[]);++r<n;){var o=t[r];e?i[o]=e[r]:o&&(i[o[0]]=o[1])}return i}function Fn(t){var r=e(t);return r.__chain__=!0,r}function Bn(t,e,r){return e.call(r,t),t}function $n(t,e,r){return e.call(r,t)}function Un(){return Fn(this)}function Vn(){return new n(this.value(),this.__chain__)}function Gn(t){for(var e,n=this;n instanceof r;){var i=dn(n);e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function qn(){var t=this.__wrapped__,e=function(t){return r&&r.__dir__<0?t:t.reverse()};if(t instanceof i){var r=t;return this.__actions__.length&&(r=new i(this)),r=r.reverse(),r.__actions__.push({func:$n,args:[e],thisArg:T}),new n(r,this.__chain__)}return this.thru(e)}function Kn(){return this.value()+""}function Xn(){return rr(this.__wrapped__,this.__actions__)}function Yn(t,e,r){var n=Ol(t)?oe:Se;return r&&Jr(t,e,r)&&(e=T),("function"!=typeof e||r!==T)&&(e=jr(e,r,3)),n(t,e)}function Zn(t,e,r){var n=Ol(t)?le:Te;return e=jr(e,r,3),n(t,e)}function Jn(t,e){return il(t,ze(e))}function Qn(t,e,r,n){var i=t?Ba(t):0;return en(i)||(t=oo(t),i=t.length),r="number"!=typeof r||n&&Jr(e,r,n)?0:0>r?Ca(i+r,0):r||0,"string"==typeof t||!Ol(t)&&Bi(t)?i>=r&&t.indexOf(e,r)>-1:!!i&&Br(t,e,r)>-1}function ti(t,e,r){var n=Ol(t)?se:Pe;return e=jr(e,r,3),n(t,e)}function ei(t,e){return ti(t,Do(e))}function ri(t,e,r){var n=Ol(t)?le:Te;return e=jr(e,r,3),n(t,function(t,r,n){return!e(t,r,n)})}function ni(t,e,r){if(r?Jr(t,e,r):null==e){t=cn(t);var n=t.length;return n>0?t[Ge(0,n-1)]:T}var i=-1,o=qi(t),n=o.length,a=n-1;for(e=_a(0>e?0:+e||0,n);++i<e;){var l=Ge(i,a),s=o[l];o[l]=o[i],o[i]=s}return o.length=e,o}function ii(t){return ni(t,Ma)}function oi(t){var e=t?Ba(t):0;return en(e)?e:jl(t).length}function ai(t,e,r){var n=Ol(t)?he:Xe;return r&&Jr(t,e,r)&&(e=T),("function"!=typeof e||r!==T)&&(e=jr(e,r,3)),n(t,e)}function li(t,e,r){if(null==t)return[];r&&Jr(t,e,r)&&(e=T);var n=-1;e=jr(e,r,3);var i=Pe(t,function(t,r,i){return{criteria:e(t,r,i),index:++n,value:t}});return Ye(i,h)}function si(t,e,r,n){return null==t?[]:(n&&Jr(e,r,n)&&(r=T),Ol(e)||(e=null==e?[]:[e]),Ol(r)||(r=null==r?[]:[r]),Ze(t,e,r))}function ui(t,e){return Zn(t,ze(e))}function ci(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Yo(V);var r=t;t=e,e=r}return t=wa(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function fi(t,e,r){return r&&Jr(t,e,r)&&(e=T),e=t&&null==e?t.length:Ca(+e||0,0),Hr(t,H,T,T,T,T,e)}function hi(t,e){var r;if("function"!=typeof e){if("function"!=typeof t)throw new Yo(V);var n=t;t=e,e=n}return function(){return--t>0&&(r=e.apply(this,arguments)),1>=t&&(e=T),r}}function di(t,e,r){function n(){d&&la(d),u&&la(u),v=0,u=d=p=T}function i(e,r){r&&la(r),u=d=p=T,e&&(v=vl(),c=t.apply(h,s),d||u||(s=h=T))}function o(){var t=e-(vl()-f);0>=t||t>e?i(p,u):d=ha(o,t)}function a(){i(m,d)}function l(){if(s=arguments,f=vl(),h=this,p=m&&(d||!y),g===!1)var r=y&&!d;else{u||y||(v=f);var n=g-(f-v),i=0>=n||n>g;i?(u&&(u=la(u)),v=f,c=t.apply(h,s)):u||(u=ha(a,n))}return i&&d?d=la(d):d||e===g||(d=ha(o,e)),r&&(i=!0,c=t.apply(h,s)),!i||d||u||(s=h=T),c}var s,u,c,f,h,d,p,v=0,g=!1,m=!0;if("function"!=typeof t)throw new Yo(V);if(e=0>e?0:+e||0,r===!0){var y=!0;m=!1}else Di(r)&&(y=!!r.leading,g="maxWait"in r&&Ca(+r.maxWait||0,e),m="trailing"in r?!!r.trailing:m);return l.cancel=n,l}function pi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Yo(V);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new pi.Cache,r}function vi(t){if("function"!=typeof t)throw new Yo(V);return function(){return!t.apply(this,arguments)}}function gi(t){return hi(2,t)}function mi(t,e){if("function"!=typeof t)throw new Yo(V);return e=Ca(e===T?t.length-1:+e||0,0),function(){for(var r=arguments,n=-1,i=Ca(r.length-e,0),o=Fo(i);++n<i;)o[n]=r[e+n];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,r[0],o);case 2:return t.call(this,r[0],r[1],o)}var a=Fo(e+1);for(n=-1;++n<e;)a[n]=r[n];return a[e]=o,t.apply(this,a)}}function yi(t){if("function"!=typeof t)throw new Yo(V);return function(e){return t.apply(this,e)}}function bi(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Yo(V);return r===!1?n=!1:Di(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),di(t,e,{leading:n,maxWait:+e,trailing:i})}function wi(t,e){return e=null==e?Mo:e,Hr(e,D,T,[t],[])}function xi(t,e,r,n){return e&&"boolean"!=typeof e&&Jr(t,e,r)?e=!1:"function"==typeof e&&(n=r,r=e,e=!1),"function"==typeof r?xe(t,e,or(r,n,1)):xe(t,e)}function Ci(t,e,r){return"function"==typeof e?xe(t,!0,or(e,r,1)):xe(t,!0)}function _i(t,e){return t>e}function Si(t,e){return t>=e}function ki(t){return b(t)&&Yr(t)&&ea.call(t,"callee")&&!ca.call(t,"callee")}function Li(t){return t===!0||t===!1||b(t)&&na.call(t)==X}function Ti(t){return b(t)&&na.call(t)==Y}function Mi(t){return!!t&&1===t.nodeType&&b(t)&&!ji(t)}function Oi(t){return null==t?!0:Yr(t)&&(Ol(t)||Bi(t)||ki(t)||b(t)&&Ei(t.splice))?!t.length:!jl(t).length}function Ai(t,e,r,n){r="function"==typeof r?or(r,n,3):T;var i=r?r(t,e):T;return i===T?Ie(t,e,r):!!i}function Ni(t){return b(t)&&"string"==typeof t.message&&na.call(t)==Z}function Wi(t){return"number"==typeof t&&wa(t)}function Ei(t){return Di(t)&&na.call(t)==J}function Di(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ii(t,e,r,n){return r="function"==typeof r?or(r,n,3):T,Re(t,$r(e),r)}function Hi(t){return zi(t)&&t!=+t}function Ri(t){return null==t?!1:Ei(t)?oa.test(ta.call(t)):b(t)&&Ht.test(t)}function Pi(t){return null===t}function zi(t){return"number"==typeof t||b(t)&&na.call(t)==tt}function ji(t){var e;if(!b(t)||na.call(t)!=et||ki(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var r;return Ae(t,function(t,e){r=e}),r===T||ea.call(t,r)}function Fi(t){return Di(t)&&na.call(t)==rt}function Bi(t){return"string"==typeof t||b(t)&&na.call(t)==it}function $i(t){return b(t)&&en(t.length)&&!!Ut[na.call(t)]}function Ui(t){return t===T}function Vi(t,e){return e>t}function Gi(t,e){return e>=t}function qi(t){var e=t?Ba(t):0;return en(e)?e?te(t):[]:oo(t)}function Ki(t){return be(t,to(t))}function Xi(t,e,r){var n=Ia(t);return r&&Jr(t,e,r)&&(e=T),e?me(n,e):n}function Yi(t){return Ee(t,to(t))}function Zi(t,e,r){var n=null==t?T:De(t,hn(e),e+"");return n===T?r:n}function Ji(t,e){if(null==t)return!1;var r=ea.call(t,e);if(!r&&!Qr(e)){if(e=hn(e),t=1==e.length?t:De(t,Ke(e,0,-1)),null==t)return!1;e=Ln(e),r=ea.call(t,e)}return r||en(t.length)&&Zr(e,t.length)&&(Ol(t)||ki(t))}function Qi(t,e,r){r&&Jr(t,e,r)&&(e=T);for(var n=-1,i=jl(t),o=i.length,a={};++n<o;){var l=i[n],s=t[l];e?ea.call(a,s)?a[s].push(l):a[s]=[l]:a[s]=l}return a}function to(t){if(null==t)return[];Di(t)||(t=qo(t));var e=t.length;e=e&&en(e)&&(Ol(t)||ki(t))&&e||0;for(var r=t.constructor,n=-1,i="function"==typeof r&&r.prototype===t,o=Fo(e),a=e>0;++n<e;)o[n]=n+"";for(var l in t)a&&Zr(l,e)||"constructor"==l&&(i||!ea.call(t,l))||o.push(l);return o}function eo(t){t=fn(t);for(var e=-1,r=jl(t),n=r.length,i=Fo(n);++e<n;){var o=r[e];i[e]=[o,t[o]]}return i}function ro(t,e,r){var n=null==t?T:t[e];return n===T&&(null==t||Qr(e,t)||(e=hn(e),t=1==e.length?t:De(t,Ke(e,0,-1)),n=null==t?T:t[Ln(e)]),n=n===T?r:n),Ei(n)?n.call(t):n}function no(t,e,r){if(null==t)return t;var n=e+"";e=null!=t[n]||Qr(e,t)?[n]:hn(e);for(var i=-1,o=e.length,a=o-1,l=t;null!=l&&++i<o;){var s=e[i];Di(l)&&(i==a?l[s]=r:null==l[s]&&(l[s]=Zr(e[i+1])?[]:{})),l=l[s]}return t}function io(t,e,r,n){var i=Ol(t)||$i(t);if(e=jr(e,n,4),null==r)if(i||Di(t)){var o=t.constructor;r=i?Ol(t)?new o:[]:Ia(Ei(o)?o.prototype:T)}else r={};return(i?ee:Ne)(t,function(t,n,i){return e(r,t,n,i)}),r}function oo(t){return tr(t,jl(t))}function ao(t){return tr(t,to(t))}function lo(t,e,r){return e=+e||0,r===T?(r=e,e=0):r=+r||0,t>=_a(e,r)&&t<Ca(e,r)}function so(t,e,r){r&&Jr(t,e,r)&&(e=r=T);var n=null==t,i=null==e;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof e&&(r=e,i=!0)),n&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,r||t%1||e%1){var o=La();return _a(t+o*(e-t+sa("1e-"+((o+"").length-1))),e)}return Ge(t,e)}function uo(t){return t=u(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=u(t),t&&t.replace(Pt,p).replace(Nt,"")}function fo(t,e,r){t=u(t),e+="";var n=t.length;return r=r===T?n:_a(0>r?0:+r||0,n),r-=e.length,r>=0&&t.indexOf(e,r)==r}function ho(t){return t=u(t),t&&Ct.test(t)?t.replace(wt,v):t}function po(t){return t=u(t),t&&At.test(t)?t.replace(Ot,g):t||"(?:)"}function vo(t,e,r){t=u(t),e=+e;var n=t.length;if(n>=e||!wa(e))return t;var i=(e-n)/2,o=ya(i),a=ga(i);return r=Wr("",a,r),r.slice(0,o)+t+r}function go(t,e,r){return(r?Jr(t,e,r):null==e)?e=0:e&&(e=+e),t=wo(t),ka(t,e||(It.test(t)?16:10))}function mo(t,e){var r="";if(t=u(t),e=+e,1>e||!t||!wa(e))return r;do e%2&&(r+=t),e=ya(e/2),t+=t;while(e);return r}function yo(t,e,r){return t=u(t),r=null==r?0:_a(0>r?0:+r||0,t.length),t.lastIndexOf(e,r)==r}function bo(t,r,n){var i=e.templateSettings;n&&Jr(t,r,n)&&(r=n=T),t=u(t),r=ge(me({},n||r),i,ve);var o,a,l=ge(me({},r.imports),i.imports,ve),s=jl(l),c=tr(l,s),f=0,h=r.interpolate||zt,d="__p += '",p=Ko((r.escape||zt).source+"|"+h.source+"|"+(h===kt?Et:zt).source+"|"+(r.evaluate||zt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(p,function(e,r,n,i,l,s){return n||(n=i),d+=t.slice(f,s).replace(jt,m),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),l&&(a=!0,d+="';\n"+l+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=s+e.length,e}),d+="';\n";var g=r.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(gt,""):d).replace(mt,"$1").replace(yt,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Zl(function(){return Uo(s,v+"return "+d).apply(T,c)});if(y.source=d,Ni(y))throw y;return y}function wo(t,e,r){var n=t;return(t=u(t))?(r?Jr(n,e,r):null==e)?t.slice(_(t),S(t)+1):(e+="",t.slice(c(t,e),f(t,e)+1)):t}function xo(t,e,r){var n=t;return t=u(t),t?(r?Jr(n,e,r):null==e)?t.slice(_(t)):t.slice(c(t,e+"")):t}function Co(t,e,r){var n=t;return t=u(t),t?(r?Jr(n,e,r):null==e)?t.slice(0,S(t)+1):t.slice(0,f(t,e+"")+1):t}function _o(t,e,r){r&&Jr(t,e,r)&&(e=T);var n=P,i=z;if(null!=e)if(Di(e)){var o="separator"in e?e.separator:o;n="length"in e?+e.length||0:n,i="omission"in e?u(e.omission):i}else n=+e||0;if(t=u(t),n>=t.length)return t;var a=n-i.length;if(1>a)return i;var l=t.slice(0,a);if(null==o)return l+i;if(Fi(o)){if(t.slice(a).search(o)){var s,c,f=t.slice(0,a);for(o.global||(o=Ko(o.source,(Dt.exec(o)||"")+"g")),o.lastIndex=0;s=o.exec(f);)c=s.index;l=l.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+i}function So(t){return t=u(t),t&&xt.test(t)?t.replace(bt,k):t}function ko(t,e,r){return r&&Jr(t,e,r)&&(e=T),t=u(t),t.match(e||Ft)||[]}function Lo(t,e,r){return r&&Jr(t,e,r)&&(e=T),b(t)?Oo(t):we(t,e)}function To(t){return function(){return t}}function Mo(t){return t}function Oo(t){return ze(xe(t,!0))}function Ao(t,e){return je(t,xe(e,!0))}function No(t,e,r){if(null==r){var n=Di(e),i=n?jl(e):T,o=i&&i.length?Ee(e,i):T;(o?o.length:n)||(o=!1,r=e,e=t,t=this)}o||(o=Ee(e,jl(e)));var a=!0,l=-1,s=Ei(t),u=o.length;r===!1?a=!1:Di(r)&&"chain"in r&&(a=r.chain);for(;++l<u;){var c=o[l],f=e[c];t[c]=f,s&&(t.prototype[c]=function(e){return function(){var r=this.__chain__;if(a||r){var n=t(this.__wrapped__),i=n.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,ue([this.value()],arguments))}}(f))}return t}function Wo(){return ne._=ia,this}function Eo(){}function Do(t){return Qr(t)?$e(t):Ue(t)}function Io(t){return function(e){return De(t,hn(e),e+"")}}function Ho(t,e,r){r&&Jr(t,e,r)&&(e=r=T),t=+t||0,r=null==r?1:+r||0,null==e?(e=t,t=0):e=+e||0;for(var n=-1,i=Ca(ga((e-t)/(r||1)),0),o=Fo(i);++n<i;)o[n]=t,t+=r;return o}function Ro(t,e,r){if(t=ya(t),1>t||!wa(t))return[];var n=-1,i=Fo(_a(t,Oa));for(e=or(e,r,1);++n<t;)Oa>n?i[n]=e(n):e(n);return i}function Po(t){var e=++ra;return u(t)+e}function zo(t,e){return(+t||0)+(+e||0)}function jo(t,e,r){return r&&Jr(t,e,r)&&(e=T),e=jr(e,r,3),1==e.length?de(Ol(t)?t:cn(t),e):Je(t,e)}t=t?ie.defaults(ne.Object(),t,ie.pick(ne,Bt)):ne;var Fo=t.Array,Bo=t.Date,$o=t.Error,Uo=t.Function,Vo=t.Math,Go=t.Number,qo=t.Object,Ko=t.RegExp,Xo=t.String,Yo=t.TypeError,Zo=Fo.prototype,Jo=qo.prototype,Qo=Xo.prototype,ta=Uo.prototype.toString,ea=Jo.hasOwnProperty,ra=0,na=Jo.toString,ia=ne._,oa=Ko("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,la=t.clearTimeout,sa=t.parseFloat,ua=Vo.pow,ca=Jo.propertyIsEnumerable,fa=Ur(t,"Set"),ha=t.setTimeout,da=Zo.splice,pa=t.Uint8Array,va=Ur(t,"WeakMap"),ga=Vo.ceil,ma=Ur(qo,"create"),ya=Vo.floor,ba=Ur(Fo,"isArray"),wa=t.isFinite,xa=Ur(qo,"keys"),Ca=Vo.max,_a=Vo.min,Sa=Ur(Bo,"now"),ka=t.parseInt,La=Vo.random,Ta=Go.NEGATIVE_INFINITY,Ma=Go.POSITIVE_INFINITY,Oa=4294967295,Aa=Oa-1,Na=Oa>>>1,Wa=9007199254740991,Ea=va&&new va,Da={};e.support={};e.templateSettings={escape:_t,evaluate:St,interpolate:kt,variable:"",imports:{_:e}};var Ia=function(){function t(){}return function(e){if(Di(e)){t.prototype=e;var r=new t;t.prototype=T}return r||{}}}(),Ha=fr(Ne),Ra=fr(We,!0),Pa=hr(),za=hr(!0),ja=Ea?function(t,e){return Ea.set(t,e),t}:Mo,Fa=Ea?function(t){return Ea.get(t)}:Eo,Ba=$e("length"),$a=function(){var t=0,e=0;return function(r,n){var i=vl(),o=F-(i-e);if(e=i,o>0){if(++t>=j)return r}else t=0;return ja(r,n)}}(),Ua=mi(function(t,e){return b(t)&&Yr(t)?_e(t,Oe(e,!1,!0)):[]}),Va=xr(),Ga=xr(!0),qa=mi(function(t){for(var e=t.length,r=e,n=Fo(f),i=Br(),o=i==l,a=[];r--;){var s=t[r]=Yr(s=t[r])?s:[];n[r]=o&&s.length>=120?pr(r&&s):null}var u=t[0],c=-1,f=u?u.length:0,h=n[0];t:for(;++c<f;)if(s=u[c],(h?Zt(h,s):i(a,s,0))<0){for(var r=e;--r;){var d=n[r];if((d?Zt(d,s):i(t[r],s,0))<0)continue t}h&&h.push(s),a.push(s)}return a}),Ka=mi(function(t,e){e=Oe(e);var r=ye(t,e);return Ve(t,e.sort(o)),r}),Xa=Ir(),Ya=Ir(!0),Za=mi(function(t){return Qe(Oe(t,!1,!0))}),Ja=mi(function(t,e){return Yr(t)?_e(t,e):[]}),Qa=mi(Rn),tl=mi(function(t){var e=t.length,r=e>2?t[e-2]:T,n=e>1?t[e-1]:T;return e>2&&"function"==typeof r?e-=2:(r=e>1&&"function"==typeof n?(--e,n):T,n=T),t.length=e,Pn(t,r,n)}),el=mi(function(t){return t=Oe(t),this.thru(function(e){return Qt(Ol(e)?e:[fn(e)],t)})}),rl=mi(function(t,e){return ye(t,Oe(e))}),nl=ur(function(t,e,r){ea.call(t,r)?++t[r]:t[r]=1}),il=wr(Ha),ol=wr(Ra,!0),al=Sr(ee,Ha),ll=Sr(re,Ra),sl=ur(function(t,e,r){ea.call(t,r)?t[r].push(e):t[r]=[e]}),ul=ur(function(t,e,r){t[r]=e}),cl=mi(function(t,e,r){var n=-1,i="function"==typeof e,o=Qr(e),a=Yr(t)?Fo(t.length):[];return Ha(t,function(t){var l=i?e:o&&null!=t?t[e]:T;a[++n]=l?l.apply(t,r):Xr(t,e,r)}),a}),fl=ur(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),hl=Ar(ce,Ha),dl=Ar(fe,Ra),pl=mi(function(t,e){if(null==t)return[];var r=e[2];return r&&Jr(e[0],e[1],r)&&(e.length=1),Ze(t,Oe(e),[])}),vl=Sa||function(){return(new Bo).getTime()},gl=mi(function(t,e,r){var n=O;if(r.length){var i=x(r,gl.placeholder);n|=D}return Hr(t,n,e,r,i)}),ml=mi(function(t,e){e=e.length?Oe(e):Yi(t);for(var r=-1,n=e.length;++r<n;){var i=e[r];t[i]=Hr(t[i],O,t)}return t}),yl=mi(function(t,e,r){var n=O|A;if(r.length){var i=x(r,yl.placeholder);n|=D}return Hr(e,n,t,r,i)}),bl=mr(W),wl=mr(E),xl=mi(function(t,e){return Ce(t,1,e)}),Cl=mi(function(t,e,r){return Ce(t,e,r)}),_l=_r(),Sl=_r(!0),kl=mi(function(t,e){if(e=Oe(e),"function"!=typeof t||!oe(e,s))throw new Yo(V);var r=e.length;return mi(function(n){for(var i=_a(n.length,r);i--;)n[i]=e[i](n[i]);return t.apply(this,n)})}),Ll=Or(D),Tl=Or(I),Ml=mi(function(t,e){return Hr(t,R,T,T,T,Oe(e))}),Ol=ba||function(t){return b(t)&&en(t.length)&&na.call(t)==K},Al=cr(Fe),Nl=cr(function(t,e,r){return r?ge(t,e,r):me(t,e)}),Wl=yr(Nl,pe),El=yr(Al,on),Dl=Cr(Ne),Il=Cr(We),Hl=kr(Pa),Rl=kr(za),Pl=Lr(Ne),zl=Lr(We),jl=xa?function(t){var e=null==t?T:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Yr(t)?un(t):Di(t)?xa(t):[]}:un,Fl=Tr(!0),Bl=Tr(),$l=mi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=se(Oe(e),Xo);return an(t,_e(to(t),e))}var r=or(e[0],e[1],3);return ln(t,function(t,e,n){return!r(t,e,n)})}),Ul=mi(function(t,e){return null==t?{}:"function"==typeof e[0]?ln(t,or(e[0],e[1],3)):an(t,Oe(e))}),Vl=vr(function(t,e,r){return e=e.toLowerCase(),t+(r?e.charAt(0).toUpperCase()+e.slice(1):e)}),Gl=vr(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),ql=Mr(),Kl=Mr(!0),Xl=vr(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Yl=vr(function(t,e,r){return t+(r?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Zl=mi(function(t,e){try{return t.apply(T,e)}catch(r){return Ni(r)?r:new $o(r)}}),Jl=mi(function(t,e){return function(r){return Xr(r,t,e)}}),Ql=mi(function(t,e){return function(r){return Xr(t,r,e)}}),ts=Dr("ceil"),es=Dr("floor"),rs=br(_i,Ta),ns=br(Vi,Ma),is=Dr("round");return e.prototype=r.prototype,n.prototype=Ia(r.prototype),n.prototype.constructor=n,i.prototype=Ia(r.prototype),i.prototype.constructor=i,ot.prototype["delete"]=Gt,ot.prototype.get=qt,ot.prototype.has=Kt,ot.prototype.set=Xt,Yt.prototype.push=Jt,pi.Cache=ot,e.after=ci,e.ary=fi,e.assign=Nl,e.at=rl,e.before=hi,e.bind=gl,e.bindAll=ml,e.bindKey=yl,e.callback=Lo,e.chain=Fn,e.chunk=pn,e.compact=vn,e.constant=To,e.countBy=nl,e.create=Xi,e.curry=bl,e.curryRight=wl,e.debounce=di,e.defaults=Wl,e.defaultsDeep=El,e.defer=xl,e.delay=Cl,e.difference=Ua,e.drop=gn,e.dropRight=mn,e.dropRightWhile=yn,e.dropWhile=bn,e.fill=wn,e.filter=Zn,e.flatten=Cn,e.flattenDeep=_n,e.flow=_l,e.flowRight=Sl,e.forEach=al,e.forEachRight=ll,e.forIn=Hl,e.forInRight=Rl,e.forOwn=Pl,e.forOwnRight=zl,e.functions=Yi,e.groupBy=sl,e.indexBy=ul,e.initial=kn,e.intersection=qa,e.invert=Qi,e.invoke=cl,e.keys=jl,e.keysIn=to,e.map=ti,e.mapKeys=Fl,e.mapValues=Bl,e.matches=Oo,e.matchesProperty=Ao,e.memoize=pi,e.merge=Al,e.method=Jl,e.methodOf=Ql,e.mixin=No,e.modArgs=kl,e.negate=vi,e.omit=$l,e.once=gi,e.pairs=eo,e.partial=Ll,e.partialRight=Tl,e.partition=fl,e.pick=Ul,e.pluck=ei,e.property=Do,e.propertyOf=Io,e.pull=Mn,e.pullAt=Ka,e.range=Ho,e.rearg=Ml,e.reject=ri,e.remove=On,e.rest=An,e.restParam=mi,e.set=no,e.shuffle=ii,e.slice=Nn,e.sortBy=li,e.sortByAll=pl,e.sortByOrder=si,e.spread=yi,e.take=Wn,e.takeRight=En,e.takeRightWhile=Dn,e.takeWhile=In,e.tap=Bn,e.throttle=bi,e.thru=$n,e.times=Ro,e.toArray=qi,e.toPlainObject=Ki,e.transform=io,e.union=Za,e.uniq=Hn,e.unzip=Rn,e.unzipWith=Pn,e.values=oo,e.valuesIn=ao,e.where=ui,e.without=Ja,e.wrap=wi,e.xor=zn,e.zip=Qa,e.zipObject=jn,e.zipWith=tl,e.backflow=Sl,e.collect=ti,e.compose=Sl,e.each=al,e.eachRight=ll,e.extend=Nl,e.iteratee=Lo,e.methods=Yi,e.object=jn,e.select=Zn,e.tail=An,e.unique=Hn,No(e,e),e.add=zo,e.attempt=Zl,e.camelCase=Vl,e.capitalize=uo,e.ceil=ts,e.clone=xi,e.cloneDeep=Ci,e.deburr=co,e.endsWith=fo,e.escape=ho,e.escapeRegExp=po,e.every=Yn,e.find=il,e.findIndex=Va,e.findKey=Dl,e.findLast=ol,e.findLastIndex=Ga,e.findLastKey=Il,e.findWhere=Jn,e.first=xn,e.floor=es,e.get=Zi,e.gt=_i,e.gte=Si,e.has=Ji,e.identity=Mo,e.includes=Qn,e.indexOf=Sn,e.inRange=lo,e.isArguments=ki,e.isArray=Ol,e.isBoolean=Li,e.isDate=Ti,e.isElement=Mi,e.isEmpty=Oi,e.isEqual=Ai,e.isError=Ni,e.isFinite=Wi,e.isFunction=Ei,e.isMatch=Ii,e.isNaN=Hi,e.isNative=Ri,e.isNull=Pi,e.isNumber=zi,e.isObject=Di,e.isPlainObject=ji,e.isRegExp=Fi,e.isString=Bi,e.isTypedArray=$i,e.isUndefined=Ui,e.kebabCase=Gl,e.last=Ln,e.lastIndexOf=Tn,e.lt=Vi,e.lte=Gi,e.max=rs,e.min=ns,e.noConflict=Wo,e.noop=Eo,e.now=vl,e.pad=vo,e.padLeft=ql,e.padRight=Kl,e.parseInt=go,e.random=so,e.reduce=hl,e.reduceRight=dl,e.repeat=mo,e.result=ro,e.round=is,e.runInContext=L,e.size=oi,e.snakeCase=Xl,e.some=ai,e.sortedIndex=Xa,e.sortedLastIndex=Ya,e.startCase=Yl,e.startsWith=yo,e.sum=jo,e.template=bo,e.trim=wo,e.trimLeft=xo,e.trimRight=Co,e.trunc=_o,e.unescape=So,e.uniqueId=Po,e.words=ko,e.all=Yn,e.any=ai,e.contains=Qn,e.eq=Ai,e.detect=il,e.foldl=hl,e.foldr=dl,e.head=xn,e.include=Qn,e.inject=hl,No(e,function(){var t={};return Ne(e,function(r,n){e.prototype[n]||(t[n]=r)}),t}(),!1),e.sample=ni,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ni(e,t)}):ni(this.value())},e.VERSION=M,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){i.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new i(this);r=null==r?1:Ca(ya(r)||0,0);var o=this.clone();return n?o.__takeCount__=_a(o.__takeCount__,r):o.__views__.push({size:r,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r!=U;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:jr(t,e,1),type:r}),i.__filtered__=i.__filtered__||n,i}}),ee(["first","last"],function(t,e){var r="take"+(e?"Right":"");i.prototype[t]=function(){return this[r](1).value()[0]}}),ee(["initial","rest"],function(t,e){var r="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[r](1)}}),ee(["pluck","where"],function(t,e){var r=e?"filter":"map",n=e?ze:Do;i.prototype[t]=function(t){return this[r](n(t))}}),i.prototype.compact=function(){return this.filter(Mo)},i.prototype.reject=function(t,e){return t=jr(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var r=this;return r.__filtered__&&(t>0||0>e)?new i(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==T&&(e=+e||0,r=0>e?r.dropRight(-e):r.take(e-t)),r)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(Ma)},Ne(i.prototype,function(t,r){var o=/^(?:filter|map|reject)|While$/.test(r),a=/^(?:first|last)$/.test(r),l=e[a?"take"+("last"==r?"Right":""):r];l&&(e.prototype[r]=function(){var e=a?[1]:arguments,r=this.__chain__,s=this.__wrapped__,u=!!this.__actions__.length,c=s instanceof i,f=e[0],h=c||Ol(s);h&&o&&"function"==typeof f&&1!=f.length&&(c=h=!1);var d=function(t){return a&&r?l(t,1)[0]:l.apply(T,ue([t],e))},p={func:$n,args:[d],thisArg:T},v=c&&!u;if(a&&!r)return v?(s=s.clone(),s.__actions__.push(p),t.call(s)):l.call(T,this.value())[0];if(!a&&h){s=v?s:new i(this);var g=t.apply(s,e);return g.__actions__.push(p),new n(g,r)}return this.thru(d)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var r=(/^(?:replace|split)$/.test(t)?Qo:Zo)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[n](function(e){return r.apply(e,t)})}}),Ne(i.prototype,function(t,r){var n=e[r];if(n){var i=n.name,o=Da[i]||(Da[i]=[]);o.push({name:r,func:n})}}),Da[Nr(T,A).name]=[{name:"wrapper",func:T}],i.prototype.clone=w,i.prototype.reverse=Q,i.prototype.value=nt,e.prototype.chain=Un,e.prototype.commit=Vn,e.prototype.concat=el,e.prototype.plant=Gn,e.prototype.reverse=qn,e.prototype.toString=Kn,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Xn,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var T,M="3.10.1",O=1,A=2,N=4,W=8,E=16,D=32,I=64,H=128,R=256,P=30,z="...",j=150,F=16,B=200,$=1,U=2,V="Expected a function",G="__lodash_placeholder__",q="[object Arguments]",K="[object Array]",X="[object Boolean]",Y="[object Date]",Z="[object Error]",J="[object Function]",Q="[object Map]",tt="[object Number]",et="[object Object]",rt="[object RegExp]",nt="[object Set]",it="[object String]",ot="[object WeakMap]",at="[object ArrayBuffer]",lt="[object Float32Array]",st="[object Float64Array]",ut="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",ht="[object Uint8Array]",dt="[object Uint8ClampedArray]",pt="[object Uint16Array]",vt="[object Uint32Array]",gt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39|#96);/g,wt=/[&<>"'`]/g,xt=RegExp(bt.source),Ct=RegExp(wt.source),_t=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ot=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,At=RegExp(Ot.source),Nt=/[\u0300-\u036f\ufe20-\ufe23]/g,Wt=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,It=/^0[xX]/,Ht=/^\[object .+?Constructor\]$/,Rt=/^\d+$/,Pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,zt=/($^)/,jt=/['\n\r\u2028\u2029\\]/g,Ft=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Bt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],$t=-1,Ut={};Ut[lt]=Ut[st]=Ut[ut]=Ut[ct]=Ut[ft]=Ut[ht]=Ut[dt]=Ut[pt]=Ut[vt]=!0,Ut[q]=Ut[K]=Ut[at]=Ut[X]=Ut[Y]=Ut[Z]=Ut[J]=Ut[Q]=Ut[tt]=Ut[et]=Ut[rt]=Ut[nt]=Ut[it]=Ut[ot]=!1;var Vt={};Vt[q]=Vt[K]=Vt[at]=Vt[X]=Vt[Y]=Vt[lt]=Vt[st]=Vt[ut]=Vt[ct]=Vt[ft]=Vt[tt]=Vt[et]=Vt[rt]=Vt[it]=Vt[ht]=Vt[dt]=Vt[pt]=Vt[vt]=!0,Vt[Z]=Vt[J]=Vt[Q]=Vt[nt]=Vt[ot]=!1;var Gt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Kt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xt={"function":!0,object:!0},Yt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jt=Xt[typeof e]&&e&&!e.nodeType&&e,Qt=Xt[typeof t]&&t&&!t.nodeType&&t,te=Jt&&Qt&&"object"==typeof i&&i&&i.Object&&i,ee=Xt[typeof self]&&self&&self.Object&&self,re=Xt[typeof window]&&window&&window.Object&&window,ne=(Qt&&Qt.exports===Jt&&Jt,te||re!==(this&&this.window)&&re||ee||this),ie=L();ne._=ie,n=function(){return ie}.call(e,r,e,t),!(n!==T&&(t.exports=n))}).call(this)}).call(e,r(7)(t),function(){return this}())},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=void 0===arguments[1]?{}:arguments[1],r=(0,C["default"])(t)[0];return(0,g["default"])(r,{value:e.value?e.value:"",theme:"ambiance",lineNumbers:!0,matchBrackets:!0,readOnly:e.readonly||!1,mode:{name:"javascript",json:!0}})}function o(t,e,r){var n=a(t),i=a(e);if(n&&i)try{var o=(0,w["default"])(n,i);r.setValue(p(o))}catch(l){s(e,l.message)}}function a(t){var e=(void 0===arguments[1]?{}:arguments[1],void 0);try{var r=t.getValue();""!==r&&(e=y["default"].parse(r)),l(t)}catch(n){s(t,n.message)}return e}function l(t){var e=c(t);e.length>0&&(e.text(""),e.remove())}function s(t,e){var r=c(t);0===r.length&&(r=u(t)),r.text(e)}function u(t){var e=(0,C["default"])("<div></div>");e.addClass("error");var r=(0,C["default"])(t.getWrapperElement());return e.appendTo(r),e}function c(t){var e=(0,C["default"])(t.getWrapperElement()),r=e.find(".error").first();return r}function f(){var t={_id:"FILE_0094310654803142674",name:"Rick Sanchez",age:80,dimension:"C-137",profession:["Scientist","Inventor","Arms salesman"],criminalRecord:[{
charge:"Assult",occurrences:45},{charge:"Bioterrorism",occurrences:4},{charge:"Genocide",occurrences:2},{charge:"Terrorism",occurrences:15}]},e="// Ricks Criminal record does not match our query. \n// Lets find out why.\n//\n// Paste your mistery object here.\n\n"+p(t);return e}function h(){var t={profession:{$in:["Scientist"]},age:{$lt:100,$gt:70},criminalRecord:{$exists:1,$elemMatch:{charge:"Genocide",occurrences:{$gt:1}}},dimension:"C-138"},e="// We query for Scientist in the age 70 - 100\n// that have commited Genocide more than once.\n//\n// Paste your non matching query\n\n"+p(t);return e}function d(t){var e=t.getValue(),r="// Oh, wrong dimention!\n//\n// Find out the why your query does \n// not match an object the easy way\n\n"+e;t.setValue(r)}function p(t){return y["default"].stringify(t)}var v=r(1),g=n(v);r(2);var m=r(10),y=n(m),b=r(11),w=n(b),x=r(12),C=n(x);r(4),r(3),r(5),(0,C["default"])(function(){var t=i(".object",{value:f()}),e=i(".query",{value:h()}),r=i(".output",{readonly:!0});o(t,e,r),d(r),t.on("change",function(){o(t,e,r)}),e.on("change",function(){o(t,e,r)})})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){t=a(t);var e=d["default"].parse(t,s);return e}function o(t){return d["default"].stringify(t,f,2)}function a(t){return t=l(t),t=u(t),t=c(t)}function l(t){return t.replace(p,'"$1"')}function s(t,e){if(""==t)return e;var r=void 0;if(e.match&&(r=p.exec(e))){var n=r[2],i=r[3];return new RegExp(n,i)}return e}function u(t){return t.replace(v,"\"ObjectId('$1')\"")}function c(t){return t.replace(m,"\"ISODate('$1')\"")}function f(t,e){return _.isRegExp(e)?e.toString():e}Object.defineProperty(e,"__esModule",{value:!0});var h=r(6),d=n(h),p=/(\/(.+?)\/([gimy]*))/g,v=/ObjectId\([\'\"](\w{24})[\'\"]\)/,g="(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)(?:Z|(\\+|-)([\\d|:]*))?",m=new RegExp("ISODate\\([\\'\\\"]("+g+")[\\'\\\"]\\)");e["default"]={parse:i,stringify:o},t.exports=e["default"]},function(module,exports,__webpack_require__){"use strict";!function(t,e){module.exports=e(__webpack_require__(8))}(void 0,function(__WEBPACK_EXTERNAL_MODULE_1__){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(module,exports,__webpack_require__){function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function whynomatch(t,e){return topLevelWhynomatch(t,e)}function topLevelWhynomatch(t,e){var r={};return _lodash2["default"].keys(e).forEach(function(n){validateOperator(n,isTopLevelOperator);var i=e[n],o=void 0;if(isTopLevelOperator(n)){var a=getTopLevelOperator(n,i);o=a(t,i,n)}else{var l=_lodash2["default"].property(n)(t);o=lowLevelWhynomatch(l,i)}isEmpty(o)||(r[n]=o)}),r}function lowLevelWhynomatch(t,e){var r={};return isMongoExpression(e)?(_lodash2["default"].keys(e).forEach(function(n){validateOperator(n,isLowLevelOperator);var i=e[n],o=getLowLevelOperator(n,i),a=o(t,i,n);isEmpty(a)||(r[n]=a)}),r):r=lowLevelOperators.$shortEq(t,e)}function elemMatchLevelWhynomatch(t,e){var r={};return _lodash2["default"].keys(e).forEach(function(n){validateOperator(n,function(t){return"$where"!==t&&(isLowLevelOperator(t)||isTopLevelOperator(t))});var i=e[n],o=void 0;if(isTopLevelOperator(n)){var a=getTopLevelOperator(n,i);o=a(t,i,n)}else if(isLowLevelOperator(n)){var a=getLowLevelOperator(n,i);o=a(t,i,n)}else{var l=_lodash2["default"].property(n)(t);o=lowLevelWhynomatch(l,i)}isEmpty(o)||(r[n]=o)}),r}function isMongoExpression(t){return!isPrimitive(t)&&(0,_lodash2["default"])(t).keys().all(looksLikeOperator)}function isPrimitive(t){return _lodash2["default"].isString(t)||_lodash2["default"].isNumber(t)||_lodash2["default"].isDate(t)||_lodash2["default"].isArray(t)||_lodash2["default"].isBoolean(t)||_lodash2["default"].isRegExp(t)}function getTopLevelOperator(t,e){return topLevelOperators[t]}function getLowLevelOperator(t,e){return lowLevelOperators[t]}function isTopLevelOperator(t){return t in topLevelOperators}function isLowLevelOperator(t){return t in lowLevelOperators}function validateOperator(t,e){if(looksLikeOperator(t)&&!e(t))throw new Error(t+" is not a legal operator at this location")}function looksLikeOperator(t){return/^\$.+/.test(t)}function isEmpty(t){return void 0==t||_lodash2["default"].isEqual(t,{})}function multiOperator(t,e,r){if(!_lodash2["default"].isArray(e)||0===e.length)throw new _mongo_parsing_error2["default"](r,"Array",e);var n=(0,_lodash2["default"])(e).map(_lodash2["default"].partial(topLevelWhynomatch,t)).reject(_lodash2["default"].partial(_lodash2["default"].isEqual,{})).value();return n}function wrapComperisionOperators(t){var e=void 0===arguments[1]?!1:arguments[1];return _lodash2["default"].transform(t,function(t,r,n){var i=wrapComperisionOperator(r,e);t[n]=i})}function wrapComperisionOperator(t,e){return function(r,n,i){return e&&_lodash2["default"].isArray(r)?_lodash2["default"].some(r,_lodash2["default"].partial(t,_lodash2["default"],n,i))?{}:n:t(r,n,i)?{}:n}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_mongo_parsing_error=__webpack_require__(2),_mongo_parsing_error2=_interopRequireDefault(_mongo_parsing_error),_deepEqual=__webpack_require__(3),_deepEqual2=_interopRequireDefault(_deepEqual),comparisionOperators={$eq:function(t,e){return t===e},$gt:function(t,e){return t>e},$gte:function(t,e){return t>=e},$lt:function(t,e){return e>t},$lte:function(t,e){return e>=t},$ne:function(t,e){return t!==e},$exists:function(t,e){return void 0!==t==e},$mod:function(t,e){if(!_lodash2["default"].isArray(e)||2!==e.length)throw new _mongo_parsing_error2["default"]("mod","array of size 2: [dividor, reminder]",e);var r=e[0],n=e[1];return t%r===n},$regex:function(t,e){if(!_lodash2["default"].isString(e)&&!_lodash2["default"].isRegExp(e))throw new _mongo_parsing_error2["default"]("regex","RegExp or a string",e);return new RegExp(e).test(t)},$shortEq:function(t,e,r){return _lodash2["default"].isRegExp(e)?e.test(t):(0,_deepEqual2["default"])(e,t,{strictOrder:!0})}},arrayOperators={$in:function(t,e){if(!_lodash2["default"].isArray(e))throw new _mongo_parsing_error2["default"]("in","array",e);_lodash2["default"].isArray(t)||(t=[t]);var r=comparisionOperators.$shortEq;for(var n in t){var i=t[n];for(var o in e){var a=e[o];if(r(i,a))return!0}}return!1},$nin:function(t,e){return!arrayOperators.$in(t,e)},$all:function(t,e){if(!_lodash2["default"].isArray(e))throw new _mongo_parsing_error2["default"]("$all","Array",e);return _lodash2["default"].isArray(t)||(t=[t]),(0,_lodash2["default"])(e).difference(t).isEmpty()},$size:function(t,e){if(!_lodash2["default"].isNumber(e))throw new _mongo_parsing_error2["default"]("size","number",e);return _lodash2["default"].isArray(t)?t.length===e:!1}},lowLevelOperators=_lodash2["default"].extend(wrapComperisionOperators(comparisionOperators,!0),wrapComperisionOperators(arrayOperators),{$not:function(t,e,r){var n=lowLevelWhynomatch(t,e);return _lodash2["default"].isEmpty(n)?e:{}},$elemMatch:function(t,e,r){if(!_lodash2["default"].isPlainObject(e))throw new _mongo_parsing_error2["default"]("elemMatch","object",e);if(!_lodash2["default"].isArray(t))return e;var n=(0,_lodash2["default"])(t).map(_lodash2["default"].partial(elemMatchLevelWhynomatch,_lodash2["default"],e)).reject(_lodash2["default"].partial(_lodash2["default"].isEqual,{})).value();return n.length===t.length?e:{}}}),topLevelOperators={$or:function(t,e,r){var n=multiOperator(t,e,r);return n.length===e.length?e:{}},$and:function(t,e,r){var n=multiOperator(t,e,r);return n.length>0?n:{}},$nor:function(t,e,r){var n=multiOperator(t,e,r);return n.length!==e.length?e:{}},$where:function $where(target,value){var fn=void 0;if(_lodash2["default"].isFunction(value))fn=value;else{if(!_lodash2["default"].isString(value))throw new _mongo_parsing_error2["default"]("where","function or a string",value);eval("fn = function(){var obj = this; return "+value+"}")}return fn.call(target)?void 0:value}};exports["default"]=whynomatch,module.exports=exports["default"]},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var i=function(t,e,r){for(var n=!0;n;){var i=t,o=e,a=r;l=u=s=void 0,n=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var s=l.get;return void 0===s?void 0:s.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;t=u,e=o,r=a,n=!0}},o=function(t){function e(t,n,o){r(this,e);var a=t+" operator must recieve a "+n+". Got: "+o;i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,a),this.name=this.constructor.name,this.message=a,Error.captureStackTrace(this,this.constructor.name)}return n(e,t),e}(Error);t.exports=o},function(t,e,r){function n(t){return null===t||void 0===t}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length?"function"!=typeof t.copy||"function"!=typeof t.slice?!1:t.length>0&&"number"!=typeof t[0]?!1:!0:!1}function o(t,e,r){var o,c;if(n(t)||n(e))return!1;if(t.prototype!==e.prototype)return!1;if(s(t))return s(e)?(t=a.call(t),e=a.call(e),u(t,e,r)):!1;if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=l(t),h=l(e)}catch(d){return!1}if(f.length!=h.length)return!1;for(r.strictOrder||(f.sort(),h.sort()),o=f.length-1;o>=0;o--)if(f[o]!=h[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!u(t[c],e[c],r))return!1;return typeof t==typeof e}var a=Array.prototype.slice,l=r(4),s=r(5),u=t.exports=function(t,e,r){return r||(r={}),t===e?!0:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:o(t,e,r)}},function(t,e){function r(t){var e=[];for(var r in t)e.push(r);return e}e=t.exports="function"==typeof Object.keys?Object.keys:r,e.shim=r},function(t,e){function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function n(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=i?r:n,e.supported=r,e.unsupported=n}])})},function(t,e){t.exports=jQuery}]);